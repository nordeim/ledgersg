(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38385,e=>{"use strict";let t,r,n,i,o,a;var s=e.i(43476),l=e.i(71645),u=e=>e instanceof Date,c=e=>null==e,d=e=>!c(e)&&!Array.isArray(e)&&"object"==typeof e&&!u(e),f="u">typeof window&&void 0!==window.HTMLElement&&"u">typeof document;function p(e){let t;if(e instanceof Date)return new Date(e);let r="u">typeof FileList&&e instanceof FileList;if(f&&(e instanceof Blob||r))return e;let n=Array.isArray(e);if(!n&&!(d(e)&&d(t=e.constructor&&e.constructor.prototype)&&t.hasOwnProperty("isPrototypeOf")))return e;let i=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=p(e[t]));return i}var m=e=>void 0===e,h=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>h(e.replace(/["|']|\]/g,"").split(/\.|\[/)),v=(e,t,r)=>{if(!t||!d(e))return r;let n=(/^\w*$/.test(t)?[t]:g(t)).reduce((e,t)=>c(e)?e:e[t],e);return m(n)||n===e?m(e[t])?r:e[t]:n},y=e=>"function"==typeof e,x=(e,t,r)=>{let n=-1,i=/^\w*$/.test(t)?[t]:g(t),o=i.length,a=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==a){let r=e[t];o=d(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};let b="onChange",w="onSubmit",S="maxLength",N="minLength",_="pattern",E="required",j=l.default.createContext(null);j.displayName="HookFormControlContext";let C="u">typeof window?l.default.useLayoutEffect:l.default.useEffect;var A=e=>"string"==typeof e,R=e=>c(e)||"object"!=typeof e;function D(e,t,r=new WeakSet){if(R(e)||R(t))return Object.is(e,t);if(u(e)&&u(t))return Object.is(e.getTime(),t.getTime());let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;for(let o of(r.add(e),r.add(t),n)){let n=e[o];if(!i.includes(o))return!1;if("ref"!==o){let e=t[o];if(u(n)&&u(e)||d(n)&&d(e)||Array.isArray(n)&&Array.isArray(e)?!D(n,e,r):!Object.is(n,e))return!1}}return!0}let k=l.default.createContext(null);k.displayName="HookFormContext";let F=e=>{let{children:t,watch:r,getValues:n,getFieldState:i,setError:o,clearErrors:a,setValue:s,trigger:u,formState:c,resetField:d,reset:f,handleSubmit:p,unregister:m,control:h,register:g,setFocus:v,subscribe:y}=e;return l.default.createElement(k.Provider,{value:l.default.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:o,clearErrors:a,setValue:s,trigger:u,formState:c,resetField:d,reset:f,handleSubmit:p,unregister:m,control:h,register:g,setFocus:v,subscribe:y}),[a,h,c,i,n,p,g,f,d,o,v,s,y,u,m,r])},l.default.createElement(j.Provider,{value:h},t))};var T=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},V=e=>Array.isArray(e)?e:[e],O=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},P=e=>d(e)&&!Object.keys(e).length,M=e=>{if(!f)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},I=e=>M(e)&&e.isConnected;function L(e,t){let r=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:g(t),n=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=m(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(d(n)&&P(n)||Array.isArray(n)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!m(e[t]))return!1;return!0}(n))&&L(e,r.slice(0,-1)),e}function B(e){return Array.isArray(e)||d(e)&&!(e=>{for(let t in e)if(y(e[t]))return!0;return!1})(e)}function H(e,t={}){for(let r in e){let n=e[r];B(n)?(t[r]=Array.isArray(n)?[]:{},H(n,t[r])):m(n)||(t[r]=!0)}return t}function U(e,t,r){for(let n in r||(r=H(t)),e){let i=e[n];if(B(i))m(t)||R(r[n])?r[n]=H(i,Array.isArray(i)?[]:{}):U(i,c(t)?{}:t[n],r[n]);else{let e=t[n];r[n]=!D(i,e)}}return r}let z={value:!1,isValid:!1},W={value:!0,isValid:!0};var $=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||""===e[0].value?W:{value:e[0].value,isValid:!0}:W:z}return z},q=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>m(e)?e:t?""===e?NaN:e?+e:e:r&&A(e)?new Date(e):n?n(e):e;let Z={isValid:!1,value:null};var K=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Z):Z;function Y(e){let t=e.ref;return"file"===t.type?t.files:"radio"===t.type?K(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?$(e.refs).value:q(m(t.value)?e.ref.value:t.value,e)}var X=e=>m(e)?e:e instanceof RegExp?e.source:d(e)?e.value instanceof RegExp?e.value.source:e.value:e,G=e=>({isOnSubmit:!e||e===w,isOnBlur:"onBlur"===e,isOnChange:e===b,isOnAll:"all"===e,isOnTouch:"onTouched"===e});let Q="AsyncFunction";var J=e=>!!e&&!!e.validate&&!!(y(e.validate)&&e.validate.constructor.name===Q||d(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Q)),ee=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let et=(e,t,r,n)=>{for(let i of r||Object.keys(e)){let r=v(e,i);if(r){let{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;else if(e.ref&&t(e.ref,e.name)&&!n)return!0;else if(et(o,t))break}else if(d(o)&&et(o,t))break}}};function er(e,t,r){let n=v(e,r);if(n||/^\w*$/.test(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),o=v(t,n),a=v(e,n);if(o&&!Array.isArray(o)&&r!==n)break;if(a&&a.type)return{name:n,error:a};if(a&&a.root&&a.root.type)return{name:`${n}.root`,error:a.root};i.pop()}return{name:r}}var en=(e,t,r)=>{let n=V(v(e,r));return x(n,"root",t[r]),x(e,r,n),e};function ei(e,t,r="validate"){if(A(e)||Array.isArray(e)&&e.every(A)||"boolean"==typeof e&&!e)return{type:r,message:A(e)?e:"",ref:t}}var eo=e=>!d(e)||e instanceof RegExp?{value:e,message:""}:e,ea=async(e,t,r,n,i,o)=>{let{ref:a,refs:s,required:l,maxLength:u,minLength:f,min:p,max:h,pattern:g,validate:x,name:b,valueAsNumber:w,mount:j}=e._f,C=v(r,b);if(!j||t.has(b))return{};let R=s?s[0]:a,D=e=>{i&&R.reportValidity&&(R.setCustomValidity("boolean"==typeof e?"":e||""),R.reportValidity())},k={},F="radio"===a.type,V="checkbox"===a.type,O=(w||"file"===a.type)&&m(a.value)&&m(C)||M(a)&&""===a.value||""===C||Array.isArray(C)&&!C.length,I=T.bind(null,b,n,k),L=(e,t,r,n=S,i=N)=>{let o=e?t:r;k[b]={type:e?n:i,message:o,ref:a,...I(e?n:i,o)}};if(o?!Array.isArray(C)||!C.length:l&&(!(F||V)&&(O||c(C))||"boolean"==typeof C&&!C||V&&!$(s).isValid||F&&!K(s).isValid)){let{value:e,message:t}=A(l)?{value:!!l,message:l}:eo(l);if(e&&(k[b]={type:E,message:t,ref:R,...I(E,t)},!n))return D(t),k}if(!O&&(!c(p)||!c(h))){let e,t,r=eo(h),i=eo(p);if(c(C)||isNaN(C)){let n=a.valueAsDate||new Date(C),o=e=>new Date(new Date().toDateString()+" "+e),s="time"==a.type,l="week"==a.type;A(r.value)&&C&&(e=s?o(C)>o(r.value):l?C>r.value:n>new Date(r.value)),A(i.value)&&C&&(t=s?o(C)<o(i.value):l?C<i.value:n<new Date(i.value))}else{let n=a.valueAsNumber||(C?+C:C);c(r.value)||(e=n>r.value),c(i.value)||(t=n<i.value)}if((e||t)&&(L(!!e,r.message,i.message,"max","min"),!n))return D(k[b].message),k}if((u||f)&&!O&&(A(C)||o&&Array.isArray(C))){let e=eo(u),t=eo(f),r=!c(e.value)&&C.length>+e.value,i=!c(t.value)&&C.length<+t.value;if((r||i)&&(L(r,e.message,t.message),!n))return D(k[b].message),k}if(g&&!O&&A(C)){let{value:e,message:t}=eo(g);if(e instanceof RegExp&&!C.match(e)&&(k[b]={type:_,message:t,ref:a,...I(_,t)},!n))return D(t),k}if(x){if(y(x)){let e=ei(await x(C,r),R);if(e&&(k[b]={...e,...I("validate",e.message)},!n))return D(e.message),k}else if(d(x)){let e={};for(let t in x){if(!P(e)&&!n)break;let i=ei(await x[t](C,r),R,t);i&&(e={...i,...I(t,i.message)},D(i.message),n&&(k[b]=e))}if(!P(e)&&(k[b]={ref:R,...e},!n))return k}}return D(!0),k};let es={mode:w,reValidateMode:b,shouldFocusError:!0};var el=()=>{if("u">typeof crypto&&crypto.randomUUID)return crypto.randomUUID();let e="u"<typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},eu=(e,t,r={})=>r.shouldFocus||m(r.shouldFocus)?r.focusName||`${e}.${m(r.focusIndex)?t:r.focusIndex}.`:"",ec=(e,t)=>[...e,...V(t)],ed=e=>Array.isArray(e)?e.map(()=>void 0):void 0;function ef(e,t,r){return[...e.slice(0,t),...V(r),...e.slice(t)]}var ep=(e,t,r)=>Array.isArray(e)?(m(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],em=(e,t)=>[...V(t),...V(e)],eh=(e,t)=>m(t)?[]:function(e,t){let r=0,n=[...e];for(let e of t)n.splice(e-r,1),r++;return h(n).length?n:[]}(e,V(t).sort((e,t)=>e-t)),eg=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},ev=(e,t,r)=>(e[t]=r,e);let ey=(e,t,r)=>{if(e&&"reportValidity"in e){let n=v(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ex=(e,t)=>{for(let r in t.fields){let n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ey(n.ref,r,e):n&&n.refs&&n.refs.forEach(t=>ey(t,r,e))}},eb=(e,t)=>{t.shouldUseNativeValidation&&ex(e,t);let r={};for(let n in e){let i=v(t.fields,n),o=Object.assign(e[n]||{},{ref:i&&i.ref});if(ew(t.names||Object.keys(e),n)){let e=Object.assign({},v(r,n));x(e,"root",o),x(r,n,e)}else x(r,n,o)}return r},ew=(e,t)=>{let r=eS(t);return e.some(e=>eS(e).match(`^${r}\\.\\d+`))};function eS(e){return e.replace(/\]|\[/g,"")}e.i(92135);var eN=e.i(74969),e_=e.i(3108);function eE(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var ej=e.i(81307);let eC=["SR","ZR","ES","OS","TX","BL","RS"],eA=ej.z.object({id:ej.z.string().uuid(),description:ej.z.string().min(1,"Description required").max(500),quantity:ej.z.string().regex(/^\d*\.?\d{0,2}$/,"Invalid quantity"),unit_price:ej.z.string().regex(/^\d*\.?\d{0,4}$/,"Invalid price"),discount_pct:ej.z.string().regex(/^\d*\.?\d{0,2}$/,"Invalid discount").default("0"),tax_code:ej.z.enum(eC).default("SR"),is_bcrs_deposit:ej.z.boolean().default(!1),line_subtotal:ej.z.string(),gst_amount:ej.z.string(),line_total:ej.z.string()}),eR=ej.z.object({id:ej.z.string().uuid(),name:ej.z.string().min(1,"Customer name required").max(200),uen:ej.z.string().regex(/^[0-9]{8,9}[A-Z]$/,"Invalid UEN format").optional().or(ej.z.literal("")),gst_registration_no:ej.z.string().optional().or(ej.z.literal("")),email:ej.z.string().email("Invalid email").optional().or(ej.z.literal("")),address:ej.z.string().max(500).optional().or(ej.z.literal("")),is_peppol_enabled:ej.z.boolean().default(!1),peppol_id:ej.z.string().optional().or(ej.z.literal(""))}),eD=ej.z.object({id:ej.z.string().uuid().optional(),invoice_number:ej.z.string().min(1).max(50),uuid:ej.z.string().uuid(),issue_date:ej.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date"),due_date:ej.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date"),tax_point_date:ej.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date").optional().or(ej.z.literal("")),customer:eR,lines:ej.z.array(eA).min(1,"At least one line item required"),subtotal:ej.z.string(),gst_rate:ej.z.string().default("0.09"),gst_amount:ej.z.string(),bcrs_deposit_total:ej.z.string().default("0.00"),total_amount:ej.z.string(),status:ej.z.enum(["DRAFT","SENT","PAID","OVERDUE","VOID"]).default("DRAFT"),peppol_status:ej.z.enum(["NOT_REQUIRED","PENDING","SENT","ACCEPTED","REJECTED"]).default("NOT_REQUIRED"),notes:ej.z.string().max(1e3).optional().default(""),reference:ej.z.string().max(100).optional().default(""),terms:ej.z.string().max(1e3).optional().default("")});function ek(){return{id:crypto.randomUUID(),description:"",quantity:"1",unit_price:"0.00",discount_pct:"0",tax_code:"SR",is_bcrs_deposit:!1,line_subtotal:"0.0000",gst_amount:"0.0000",line_total:"0.0000"}}var eF=e.i(19455);function eT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function eV(){}function eO(e){return!!(e||"").match(/\d/)}function eP(e){return null==e}function eM(e){return eP(e)||"number"==typeof e&&isNaN(e)||"number"==typeof e&&!isFinite(e)}function eI(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function eL(e,t){void 0===t&&(t=!0);var r="-"===e[0],n=r&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNegation:r,addNegation:n}}function eB(e,t,r){for(var n="",i=r?"0":"",o=0;o<=t-1;o++)n+=e[o]||i;return n}function eH(e,t){return Array(t+1).join(e)}function eU(e){var t=e+"",r="-"===t[0]?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),i=n[0],o=n[1];if(!(o=Number(o)))return r+i;i=i.replace(".","");var a=1+o,s=i.length;return a<0?i="0."+eH("0",Math.abs(a))+i:a>=s?i+=eH("0",a-s):i=(i.substring(0,a)||"0")+"."+i.substring(a),r+i}function ez(e,t,r){if(-1!==["","-"].indexOf(e))return e;var n=(-1!==e.indexOf(".")||r)&&t,i=eL(e),o=i.beforeDecimal,a=i.afterDecimal,s=i.hasNegation,l=parseFloat("0."+(a||"0")),u=(a.length<=t?"0."+a:l.toFixed(t)).split("."),c=o;return o&&Number(u[0])&&(c=o.split("").reverse().reduce(function(e,t,r){return e.length>r?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},u[0])),(s?"-":"")+c+(n?".":"")+eB(u[1]||"",t,r)}function eW(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}(iq=i2||(i2={})).event="event",iq.props="prop";var e$=(iZ=function(e,t){for(var r=0,n=0,i=e.length,o=t.length;e[r]===t[r]&&r<i;)r++;for(;e[i-1-n]===t[o-1-n]&&o-n>r&&i-n>r;)n++;return{from:{start:r,end:i-n},to:{start:r,end:o-n}}},iY=void 0,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return iK&&e.length===iK.length&&e.every(function(e,t){return e===iK[t]})?iY:(iK=e,iY=iZ.apply(void 0,e))}),eq=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function eZ(e){return Math.max(e.selectionStart,e.selectionEnd)}function eK(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,i=e.formattedValueIndex;return t[n]===r[i]}function eY(e,t,r,n){var i=e.length;if(t=Math.min(Math.max(t,0),i),"left"===n){for(;t>=0&&!r[t];)t--;-1===t&&(t=r.indexOf(!0))}else{for(;t<=i&&!r[t];)t++;t>i&&(t=r.lastIndexOf(!0))}return -1===t&&(t=i),t}function eX(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(eO(e[r])||eO(e[r-1]));return t}function eG(e,t,r,n,i,o){void 0===o&&(o=eV);var a,s,u=(a=function(e,t){var r,o;return eM(e)?(o="",r=""):r="number"==typeof e||t?n(o="number"==typeof e?eU(e):e):n(o=i(e,void 0)),{formattedValue:r,numAsString:o}},(s=(0,l.useRef)(a)).current=a,(0,l.useRef)(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return s.current.apply(s,e)}).current),c=(0,l.useState)(function(){return u(eP(e)?t:e,r)}),d=c[0],f=c[1],p=e,m=r;eP(e)&&(p=d.numAsString,m=!0);var h=u(p,m);return(0,l.useMemo)(function(){f(h)},[h.formattedValue]),[d,function(e,t){e.formattedValue!==d.formattedValue&&f({formattedValue:e.formattedValue,numAsString:e.value}),o(e,t)}]}function eQ(e){return e.replace(/[^0-9]/g,"")}function eJ(e){return e}function e0(e){var t=e.type;void 0===t&&(t="text");var r=e.displayType;void 0===r&&(r="input");var n=e.customInput,i=e.renderText,o=e.getInputRef,a=e.format;void 0===a&&(a=eJ);var s=e.removeFormatting;void 0===s&&(s=eQ);var u=e.defaultValue,c=e.valueIsNumericString,d=e.onValueChange,f=e.isAllowed,p=e.onChange;void 0===p&&(p=eV);var m=e.onKeyDown;void 0===m&&(m=eV);var h=e.onMouseUp;void 0===h&&(h=eV);var g=e.onFocus;void 0===g&&(g=eV);var v=e.onBlur;void 0===v&&(v=eV);var y=e.value,x=e.getCaretBoundary;void 0===x&&(x=eX);var b=e.isValidInputCharacter;void 0===b&&(b=eO);var w=e.isCharacterSame,S=eT(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),N=eG(y,u,!!c,a,s,d),_=N[0],E=_.formattedValue,j=_.numAsString,C=N[1],A=(0,l.useRef)(),R=(0,l.useRef)({formattedValue:E,numAsString:j}),D=function(e,t){R.current={formattedValue:e.formattedValue,numAsString:e.value},C(e,t)},k=(0,l.useState)(!1),F=k[0],T=k[1],V=(0,l.useRef)(null),O=(0,l.useRef)({setCaretTimeout:null,focusTimeout:null});(0,l.useEffect)(function(){return T(!0),function(){clearTimeout(O.current.setCaretTimeout),clearTimeout(O.current.focusTimeout)}},[]);var P=a,M=function(e,t){var r=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(r)?void 0:r}},I=function(e,t,r){(0!==e.selectionStart||e.selectionEnd!==e.value.length)&&(eW(e,t),O.current.setCaretTimeout=setTimeout(function(){e.value===r&&e.selectionStart!==t&&eW(e,t)},0))},L=function(e,t,r){return eY(e,t,x(e),r)},B=function(e,t,r){var n=x(t),i=function(e,t,r,n,i,o,a){void 0===a&&(a=eK);var s=i.findIndex(function(e){return e}),l=e.slice(0,s);t||r.startsWith(l)||(t=l,r=l+r,n+=l.length);for(var u=r.length,c=e.length,d={},f=Array(u),p=0;p<u;p++){f[p]=-1;for(var m=0;m<c;m++)if(a({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:p,formattedValueIndex:m})&&!0!==d[m]){f[p]=m,d[m]=!0;break}}for(var h=n;h<u&&(-1===f[h]||!o(r[h]));)h++;var g=h===u||-1===f[h]?c:f[h];for(h=n-1;h>0&&-1===f[h];)h--;var v=-1===h||-1===f[h]?0:f[h]+1;return v>g?g:n-v<g-n?v:g}(t,E,e,r,n,b,w);return eY(t,i,n)},H=function(e){var t,r=e.formattedValue;void 0===r&&(r="");var n=e.input,i=e.source,o=e.event,a=e.numAsString;if(n){var s=e.inputValue||n.value,l=eZ(n);n.value=r,void 0!==(t=B(s,r,l))&&I(n,t,r)}r!==E&&D(M(r,a),{event:o,source:i})};(0,l.useEffect)(function(){var e=R.current,t=e.formattedValue,r=e.numAsString;(E!==t||j!==r)&&D(M(E,j),{event:void 0,source:i2.props})},[E,j]);var U=V.current?eZ(V.current):void 0;("u">typeof window?l.useLayoutEffect:l.useEffect)(function(){var e=V.current;if(E!==R.current.formattedValue&&e){var t=B(R.current.formattedValue,E,U);e.value=E,I(e,t,E)}},[E]);var z=function(e,t,r){var n=t.target,i=Object.assign(Object.assign({},A.current?eq(A.current,n.selectionEnd):e$(E,e)),{lastValue:E}),o=s(e,i),a=P(o);if(o=s(a,void 0),f&&!f(M(a,o))){var l=t.target,u=B(e,E,eZ(l));return l.value=E,I(l,u,E),!1}return H({formattedValue:a,numAsString:o,inputValue:e,event:t,source:r,input:t.target}),!0},W=function(e,t){void 0===t&&(t=0),A.current={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd+t}},$=Object.assign({inputMode:F&&"u">typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))?"numeric":void 0},S,{type:t,value:E,onChange:function(e){z(e.target.value,e,i2.event)&&p(e),A.current=void 0},onKeyDown:function(e){var t,r=e.target,n=e.key,i=r.selectionStart,o=r.selectionEnd,a=r.value;void 0===a&&(a=""),"ArrowLeft"===n||"Backspace"===n?t=Math.max(i-1,0):"ArrowRight"===n?t=Math.min(i+1,a.length):"Delete"===n&&(t=i);var s=0;"Delete"===n&&i===o&&(s=1);var l="ArrowLeft"===n||"ArrowRight"===n;if(void 0===t||i!==o&&!l){m(e),W(r,s);return}var u=t;l?(u=L(a,t,"ArrowLeft"===n?"left":"right"))!==t&&e.preventDefault():"Delete"!==n||b(a[t])?"Backspace"!==n||b(a[t])||(u=L(a,t,"left")):u=L(a,t,"right"),u!==t&&I(r,u,a),m(e),W(r,s)},onMouseUp:function(e){var t=e.target,r=function(){var e=t.selectionStart,r=t.selectionEnd,n=t.value;if(void 0===n&&(n=""),e===r){var i=L(n,e);i!==e&&I(t,i,n)}};r(),requestAnimationFrame(function(){r()}),h(e),W(t)},onFocus:function(e){e.persist&&e.persist();var t=e.target,r=e.currentTarget;V.current=t,O.current.focusTimeout=setTimeout(function(){var n=t.selectionStart,i=t.selectionEnd,o=t.value;void 0===o&&(o="");var a=L(o,n);a!==n&&(0!==n||i!==o.length)&&I(t,a,o),g(Object.assign(Object.assign({},e),{currentTarget:r}))},0)},onBlur:function(e){V.current=null,clearTimeout(O.current.focusTimeout),clearTimeout(O.current.setCaretTimeout),v(e)}});return"text"===r?i?l.default.createElement(l.default.Fragment,null,i(E,S)||null):l.default.createElement("span",Object.assign({},S,{ref:o}),E):n?l.default.createElement(n,Object.assign({},$,{ref:o})):l.default.createElement("input",Object.assign({},$,{ref:o}))}function e1(e,t){var r,n,i,o=t.decimalScale,a=t.fixedDecimalScale,s=t.prefix;void 0===s&&(s="");var l=t.suffix;void 0===l&&(l="");var u=t.allowNegative,c=t.thousandsGroupStyle;if(void 0===c&&(c="thousand"),""===e||"-"===e)return e;var d=e2(t),f=d.thousandSeparator,p=d.decimalSeparator,m=0!==o&&-1!==e.indexOf(".")||o&&a,h=eL(e,u),g=h.beforeDecimal,v=h.afterDecimal,y=h.addNegation;return void 0!==o&&(v=eB(v,o,!!a)),f&&(r=g,n=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(c),i=-1===(i=r.search(/[1-9]/))?r.length:i,g=r.substring(0,i)+r.substring(i,r.length).replace(n,"$1"+f)),s&&(g=s+g),l&&(v+=l),y&&(g="-"+g),e=g+(m&&p||"")+v}function e2(e){var t=e.decimalSeparator;void 0===t&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return!0===r&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function e4(e){var t,r,n,i,o,a,s,u,c,d,f,p,m,h,g,v,y,x,b,w,S,N,_,E,j,C,A,R,D,k=((t=function(e){var t=e2(e),r=t.thousandSeparator,n=t.decimalSeparator,i=e.prefix;void 0===i&&(i="");var o=e.allowNegative;if(void 0===o&&(o=!0),r===n)throw Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+n+" (default value for decimalSeparator is .)\n     ");return i.startsWith("-")&&o&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+i+"\n      allowNegative: "+o+"\n    "),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}(t=e)).decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle,r=t.suffix,n=t.allowNegative,i=t.allowLeadingZeros,void 0===(o=t.onKeyDown)&&(o=eV),void 0===(a=t.onBlur)&&(a=eV),s=t.thousandSeparator,u=t.decimalScale,c=t.fixedDecimalScale,void 0===(d=t.prefix)&&(d=""),f=t.defaultValue,p=t.value,m=t.valueIsNumericString,h=t.onValueChange,g=eT(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=(v=e2(t)).decimalSeparator,x=v.allowedDecimalSeparators,b=function(e){return e1(e,t)},w=function(e,r){return function(e,t,r){void 0===t&&(t={from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""});var n,i,o,a,s=r.allowNegative,l=r.prefix;void 0===l&&(l="");var u=r.suffix;void 0===u&&(u="");var c=r.decimalScale,d=t.from,f=t.to,p=f.start,m=f.end,h=e2(r),g=h.allowedDecimalSeparators,v=h.decimalSeparator,y=e[m]===v;if(eO(e)&&(e===l||e===u)&&""===t.lastValue)return e;if(m-p==1&&-1!==g.indexOf(e[p])){var x=0===c?"":v;e=e.substring(0,p)+x+e.substring(p+1,e.length)}var b=function(e,t,r){var n=!1,i=!1;l.startsWith("-")?n=!1:e.startsWith("--")?(n=!1,i=!0):u.startsWith("-")&&e.length===u.length?n=!1:"-"===e[0]&&(n=!0);var o=+!!n;return i&&(o=2),o&&(e=e.substring(o),t-=o,r-=o),{value:e,start:t,end:r,hasNegation:n}},w=b(e,p,m),S=w.hasNegation;e=w.value,p=w.start,m=w.end;var N=b(t.lastValue,d.start,d.end),_=N.start,E=N.end,j=N.value,C=e.substring(p,m);e.length&&j.length&&(_>j.length-u.length||E<l.length)&&!(C&&u.startsWith(C))&&(e=j);var A=0;e.startsWith(l)?A+=l.length:p<l.length&&(A=p),e=e.substring(A),m-=A;var R=e.length,D=e.length-u.length;e.endsWith(u)?R=D:m>D?R=m:m>e.length-u.length&&(R=m),e=e.substring(0,R),void 0===(n=S?"-"+e:e)&&(n=""),i=RegExp("(-)(.)*(-)"),o=/(-)/.test(n),a=i.test(n),n=n.replace(/-/g,""),o&&!a&&s&&(n="-"+n);var k=(e=((e=n).match(RegExp("(^-)|[0-9]|"+eI(v),"g"))||[]).join("")).indexOf(v),F=eL(e=e.replace(RegExp(eI(v),"g"),function(e,t){return t===k?".":""}),s),T=F.beforeDecimal,V=F.afterDecimal,O=F.addNegation;return f.end-f.start<d.end-d.start&&""===T&&y&&!parseFloat(V)&&(e=O?"-":""),e}(e,r,t)},S=eP(p)?f:p,_=null!=m?m:(N=d,""===S||!(null==N?void 0:N.match(/\d/))&&!(null==r?void 0:r.match(/\d/))&&"string"==typeof S&&!isNaN(Number(S))),eP(p)?eP(f)||(_=_||"number"==typeof f):_=_||"number"==typeof p,A=(C=(j=eG((E=function(e){return eM(e)?e:("number"==typeof e&&(e=eU(e)),_&&"number"==typeof u)?ez(e,u,!!c):e})(p),E(f),!!_,b,w,h))[0]).numAsString,R=C.formattedValue,D=j[1],Object.assign(Object.assign({},g),{value:R,valueIsNumericString:!1,isValidInputCharacter:function(e){return e===y||eO(e)},isCharacterSame:function(e){var t=e.currentValue,r=e.lastValue,n=e.formattedValue,i=e.currentValueIndex,o=e.formattedValueIndex,a=t[i],s=n[o],l=e$(r,t).to,f=function(e){return w(e).indexOf(".")+d.length};return!(0===p&&c&&u&&t[l.start]===y&&f(t)<i&&f(n)>o)&&(!!(i>=l.start&&i<l.end&&x&&x.includes(a))&&s===y||a===s)},onValueChange:D,format:b,removeFormatting:w,getCaretBoundary:function(e){var r,n,i,o,a,s;return void 0===(n=(r=t).prefix)&&(n=""),void 0===(i=r.suffix)&&(i=""),o=Array.from({length:e.length+1}).map(function(){return!0}),a="-"===e[0],o.fill(!1,0,n.length+ +!!a),s=e.length,o.fill(!1,s-i.length+1,s+1),o},onKeyDown:function(e){var t=e.target,r=e.key,i=t.selectionStart,a=t.selectionEnd,l=t.value;if(void 0===l&&(l=""),("Backspace"===r||"Delete"===r)&&a<d.length)return void e.preventDefault();if(i!==a)return void o(e);"Backspace"===r&&"-"===l[0]&&i===d.length+1&&n&&eW(t,1),u&&c&&("Backspace"===r&&l[i-1]===y?(eW(t,i-1),e.preventDefault()):"Delete"===r&&l[i]===y&&e.preventDefault()),(null==x?void 0:x.includes(r))&&l[i]===y&&eW(t,i+1);var f=!0===s?",":s;"Backspace"===r&&l[i-1]===f&&eW(t,i-1),"Delete"===r&&l[i]===f&&eW(t,i+1),o(e)},onBlur:function(e){var r=A;r.match(/\d/g)||(r=""),i||(r=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",i=r[1]||"";return(t?"-":"")+n+(i?"."+i:"")}(r)),c&&u&&(r=ez(r,u,c)),r!==A&&D({formattedValue:e1(r,t),value:r,floatValue:parseFloat(r)},{event:e,source:i2.event}),a(e)}}));return l.default.createElement(e0,Object.assign({},k))}var e5=e.i(75157);let e7=l.forwardRef(({className:e,value:t,onChange:r,currencySymbol:n="S$",ariaLabel:i,ariaDescribedBy:o,allowNegative:a=!1,decimalScale:u=2,disabled:c,error:d,...f},p)=>{let[m,h]=l.useState(!1);return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)("div",{className:(0,e5.cn)("relative group flex items-center border bg-surface transition-all rounded-sm","focus-within:border-accent-primary focus-within:ring-1 focus-within:ring-accent-primary/50",c&&"opacity-50 cursor-not-allowed",d?"border-alert":"border-border",e),children:[n&&(0,s.jsx)("div",{className:(0,e5.cn)("pl-3 pr-2 py-2 border-r border-border text-text-muted font-mono text-sm flex items-center bg-carbon select-none","tabular-nums slashed-zero"),children:n}),(0,s.jsx)(e4,{value:t,onValueChange:e=>r(e.value),thousandSeparator:",",decimalScale:u,fixedDecimalScale:!0,allowedDecimalSeparators:["."],allowNegative:a,disabled:c,className:(0,e5.cn)("flex-1 border-0 bg-transparent px-3 py-2 text-sm font-mono","tabular-nums slashed-zero text-text-primary","focus:outline-none focus:ring-0 placeholder:text-text-muted","w-full min-w-0"),"aria-label":i,"aria-describedby":(0,e5.cn)(d&&`${i}-error`,o),"aria-invalid":d?"true":"false",getInputRef:p,onFocus:e=>{h(!0),f.onFocus?.(e)},onBlur:e=>{h(!1),f.onBlur?.(e)},name:f.name,placeholder:f.placeholder,readOnly:f.readOnly,required:f.required,autoComplete:f.autoComplete}),m&&!d&&(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none border-2 border-accent-primary/30 rounded-sm","aria-hidden":"true"})]}),d&&(0,s.jsx)("p",{id:`${i}-error`,className:"text-sm text-alert",role:"alert",children:d})]})});e7.displayName="MoneyInput";var e9=e.i(93479),e3=e.i(74080);function e8(e,[t,r]){return Math.min(r,Math.max(t,e))}var e6=e.i(81140),te=e.i(75830),tt=e.i(20783),tr=e.i(30030),tn=l.createContext(void 0),ti=e.i(26330),to=0;function ta(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ts=e.i(48425),tl=e.i(30207),tu="focusScope.autoFocusOnMount",tc="focusScope.autoFocusOnUnmount",td={bubbles:!1,cancelable:!0},tf=l.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[u,c]=l.useState(null),d=(0,tl.useCallbackRef)(i),f=(0,tl.useCallbackRef)(o),p=l.useRef(null),m=(0,tt.useComposedRefs)(t,e=>c(e)),h=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let e=function(e){if(h.paused||!u)return;let t=e.target;u.contains(t)?p.current=t:th(p.current,{select:!0})},t=function(e){if(h.paused||!u)return;let t=e.relatedTarget;null!==t&&(u.contains(t)||th(p.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&th(u)});return u&&r.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,u,h.paused]),l.useEffect(()=>{if(u){tg.add(h);let e=document.activeElement;if(!u.contains(e)){let t=new CustomEvent(tu,td);u.addEventListener(tu,d),u.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(th(n,{select:t}),document.activeElement!==r)return}(tp(u).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&th(u))}return()=>{u.removeEventListener(tu,d),setTimeout(()=>{let t=new CustomEvent(tc,td);u.addEventListener(tc,f),u.dispatchEvent(t),t.defaultPrevented||th(e??document.body,{select:!0}),u.removeEventListener(tc,f),tg.remove(h)},0)}}},[u,d,f,h]);let g=l.useCallback(e=>{if(!r&&!n||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){var o;let t,n=e.currentTarget,[a,s]=[tm(t=tp(o=n),o),tm(t.reverse(),o)];a&&s?e.shiftKey||i!==s?e.shiftKey&&i===a&&(e.preventDefault(),r&&th(s,{select:!0})):(e.preventDefault(),r&&th(a,{select:!0})):i===n&&e.preventDefault()}},[r,n,h.paused]);return(0,s.jsx)(ts.Primitive.div,{tabIndex:-1,...a,ref:m,onKeyDown:g})});function tp(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tm(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function th(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}tf.displayName="FocusScope";var tg=(o=[],{add(e){let t=o[0];e!==t&&t?.pause(),(o=tv(o,e)).unshift(e)},remove(e){o=tv(o,e),o[0]?.resume()}});function tv(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var ty=e.i(34620),tx=l[" useId ".trim().toString()]||(()=>void 0),tb=0;function tw(e){let[t,r]=l.useState(tx());return(0,ty.useLayoutEffect)(()=>{e||r(e=>e??String(tb++))},[e]),e||(t?`radix-${t}`:"")}let tS=["top","right","bottom","left"],tN=Math.min,t_=Math.max,tE=Math.round,tj=Math.floor,tC=e=>({x:e,y:e}),tA={left:"right",right:"left",bottom:"top",top:"bottom"},tR={start:"end",end:"start"};function tD(e,t){return"function"==typeof e?e(t):e}function tk(e){return e.split("-")[0]}function tF(e){return e.split("-")[1]}function tT(e){return"x"===e?"y":"x"}function tV(e){return"y"===e?"height":"width"}let tO=new Set(["top","bottom"]);function tP(e){return tO.has(tk(e))?"y":"x"}function tM(e){return e.replace(/start|end/g,e=>tR[e])}let tI=["left","right"],tL=["right","left"],tB=["top","bottom"],tH=["bottom","top"];function tU(e){return e.replace(/left|right|bottom|top/g,e=>tA[e])}function tz(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function tW(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function t$(e,t,r){let n,{reference:i,floating:o}=e,a=tP(t),s=tT(tP(t)),l=tV(s),u=tk(t),c="y"===a,d=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;switch(u){case"top":n={x:d,y:i.y-o.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:f};break;case"left":n={x:i.x-o.width,y:f};break;default:n={x:i.x,y:i.y}}switch(tF(t)){case"start":n[s]-=p*(r&&c?-1:1);break;case"end":n[s]+=p*(r&&c?-1:1)}return n}async function tq(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=tD(t,e),m=tz(p),h=s[f?"floating"===d?"reference":"floating":d],g=tW(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(h)))||r?h:h.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await (null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),x=await (null==o.isElement?void 0:o.isElement(y))&&await (null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=tW(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+m.top)/x.y,bottom:(b.bottom-g.bottom+m.bottom)/x.y,left:(g.left-b.left+m.left)/x.x,right:(b.right-g.right+m.right)/x.x}}let tZ=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=t$(u,n,l),f=n,p={},m=0;for(let r=0;r<s.length;r++){var h;let{name:o,fn:g}=s[r],{x:v,y:y,data:x,reset:b}=await g({x:c,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:{...a,detectOverflow:null!=(h=a.detectOverflow)?h:tq},elements:{reference:e,floating:t}});c=null!=v?v:c,d=null!=y?y:d,p={...p,[o]:{...p[o],...x}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:c,y:d}=t$(u,f,l)),r=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}};function tK(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tY(e){return tS.some(t=>e[t]>=0)}let tX=new Set(["left","top"]);async function tG(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),a=tk(r),s=tF(r),l="y"===tP(r),u=tX.has(a)?-1:1,c=o&&l?-1:1,d=tD(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof m&&(p="end"===s?-1*m:m),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}function tQ(){return"u">typeof window}function tJ(e){return t2(e)?(e.nodeName||"").toLowerCase():"#document"}function t0(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function t1(e){var t;return null==(t=(t2(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function t2(e){return!!tQ()&&(e instanceof Node||e instanceof t0(e).Node)}function t4(e){return!!tQ()&&(e instanceof Element||e instanceof t0(e).Element)}function t5(e){return!!tQ()&&(e instanceof HTMLElement||e instanceof t0(e).HTMLElement)}function t7(e){return!(!tQ()||"u"<typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof t0(e).ShadowRoot)}let t9=new Set(["inline","contents"]);function t3(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=rl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!t9.has(i)}let t8=new Set(["table","td","th"]),t6=[":popover-open",":modal"];function re(e){return t6.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let rt=["transform","translate","scale","rotate","perspective"],rr=["transform","translate","scale","rotate","perspective","filter"],rn=["paint","layout","strict","content"];function ri(e){let t=ro(),r=t4(e)?rl(e):e;return rt.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||rr.some(e=>(r.willChange||"").includes(e))||rn.some(e=>(r.contain||"").includes(e))}function ro(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let ra=new Set(["html","body","#document"]);function rs(e){return ra.has(tJ(e))}function rl(e){return t0(e).getComputedStyle(e)}function ru(e){return t4(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rc(e){if("html"===tJ(e))return e;let t=e.assignedSlot||e.parentNode||t7(e)&&e.host||t1(e);return t7(t)?t.host:t}function rd(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=rc(t);return rs(r)?t.ownerDocument?t.ownerDocument.body:t.body:t5(r)&&t3(r)?r:e(r)}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=t0(i);if(o){let e=rf(a);return t.concat(a,a.visualViewport||[],t3(i)?i:[],e&&r?rd(e):[])}return t.concat(i,rd(i,[],r))}function rf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rp(e){let t=rl(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=t5(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=tE(r)!==o||tE(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function rm(e){return t4(e)?e:e.contextElement}function rh(e){let t=rm(e);if(!t5(t))return tC(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=rp(t),a=(o?tE(r.width):r.width)/n,s=(o?tE(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}let rg=tC(0);function rv(e){let t=t0(e);return ro()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:rg}function ry(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),a=rm(e),s=tC(1);t&&(n?t4(n)&&(s=rh(n)):s=rh(e));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===t0(a))&&i)?rv(a):tC(0),u=(o.left+l.x)/s.x,c=(o.top+l.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(a){let e=t0(a),t=n&&t4(n)?t0(n):n,r=e,i=rf(r);for(;i&&n&&t!==r;){let e=rh(i),t=i.getBoundingClientRect(),n=rl(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,c*=e.y,d*=e.x,f*=e.y,u+=o,c+=a,i=rf(r=t0(i))}}return tW({width:d,height:f,x:u,y:c})}function rx(e,t){let r=ru(e).scrollLeft;return t?t.left+r:ry(t1(e)).left+r}function rb(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-rx(e,r),y:r.top+t.scrollTop}}let rw=new Set(["absolute","fixed"]);function rS(e,t,r){var n;let i;if("viewport"===t)i=function(e,t){let r=t0(e),n=t1(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let e=ro();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}let u=rx(n);if(u<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,a=Math.abs(n.clientWidth-t.clientWidth-i);a<=25&&(o-=a)}else u<=25&&(o+=u);return{width:o,height:a,x:s,y:l}}(e,r);else if("document"===t){let t,r,o,a,s,l,u;n=t1(e),t=t1(n),r=ru(n),o=n.ownerDocument.body,a=t_(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=t_(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),l=-r.scrollLeft+rx(n),u=-r.scrollTop,"rtl"===rl(o).direction&&(l+=t_(t.clientWidth,o.clientWidth)-a),i={width:a,height:s,x:l,y:u}}else if(t4(t)){let e,n,o,a,s,l;n=(e=ry(t,!0,"fixed"===r)).top+t.clientTop,o=e.left+t.clientLeft,a=t5(t)?rh(t):tC(1),s=t.clientWidth*a.x,l=t.clientHeight*a.y,i={width:s,height:l,x:o*a.x,y:n*a.y}}else{let r=rv(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return tW(i)}function rN(e){return"static"===rl(e).position}function r_(e,t){if(!t5(e)||"fixed"===rl(e).position)return null;if(t)return t(e);let r=e.offsetParent;return t1(e)===r&&(r=r.ownerDocument.body),r}function rE(e,t){var r;let n=t0(e);if(re(e))return n;if(!t5(e)){let t=rc(e);for(;t&&!rs(t);){if(t4(t)&&!rN(t))return t;t=rc(t)}return n}let i=r_(e,t);for(;i&&(r=i,t8.has(tJ(r)))&&rN(i);)i=r_(i,t);return i&&rs(i)&&rN(i)&&!ri(i)?n:i||function(e){let t=rc(e);for(;t5(t)&&!rs(t);){if(ri(t))return t;if(re(t))break;t=rc(t)}return null}(e)||n}let rj=async function(e){let t=this.getOffsetParent||rE,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=t5(t),i=t1(t),o="fixed"===r,a=ry(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=tC(0);if(n||!n&&!o)if(("body"!==tJ(t)||t3(i))&&(s=ru(t)),n){let e=ry(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=rx(i));o&&!n&&i&&(l.x=rx(i));let u=!i||n||o?tC(0):rb(i,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},rC={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o="fixed"===i,a=t1(n),s=!!t&&re(t.floating);if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=tC(1),c=tC(0),d=t5(n);if((d||!d&&!o)&&(("body"!==tJ(n)||t3(a))&&(l=ru(n)),t5(n))){let e=ry(n);u=rh(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}let f=!a||d||o?tC(0):rb(a,l);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:r.y*u.y-l.scrollTop*u.y+c.y+f.y}},getDocumentElement:t1,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?re(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=rd(e,[],!1).filter(e=>t4(e)&&"body"!==tJ(e)),i=null,o="fixed"===rl(e).position,a=o?rc(e):e;for(;t4(a)&&!rs(a);){let t=rl(a),r=ri(a);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&rw.has(i.position)||t3(a)&&!r&&function e(t,r){let n=rc(t);return!(n===r||!t4(n)||rs(n))&&("fixed"===rl(n).position||e(n,r))}(e,a))?n=n.filter(e=>e!==a):i=t,a=rc(a)}return t.set(e,n),n}(t,this._c):[].concat(r),n],a=o[0],s=o.reduce((e,r)=>{let n=rS(t,r,i);return e.top=t_(n.top,e.top),e.right=tN(n.right,e.right),e.bottom=tN(n.bottom,e.bottom),e.left=t_(n.left,e.left),e},rS(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:rE,getElementRects:rj,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=rp(e);return{width:t,height:r}},getScale:rh,isElement:t4,isRTL:function(e){return"rtl"===rl(e).direction}};function rA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let rR=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=tD(e,t)||{};if(null==u)return{};let d=tz(c),f={x:r,y:n},p=tT(tP(i)),m=tV(p),h=await a.getDimensions(u),g="y"===p,v=g?"clientHeight":"clientWidth",y=o.reference[m]+o.reference[p]-f[p]-o.floating[m],x=f[p]-o.reference[p],b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(u)),w=b?b[v]:0;w&&await (null==a.isElement?void 0:a.isElement(b))||(w=s.floating[v]||o.floating[m]);let S=w/2-h[m]/2-1,N=tN(d[g?"top":"left"],S),_=tN(d[g?"bottom":"right"],S),E=w-h[m]-_,j=w/2-h[m]/2+(y/2-x/2),C=t_(N,tN(j,E)),A=!l.arrow&&null!=tF(i)&&j!==C&&o.reference[m]/2-(j<N?N:_)-h[m]/2<0,R=A?j<N?j-N:j-E:0;return{[p]:f[p]+R,data:{[p]:C,centerOffset:j-C-R,...A&&{alignmentOffset:R}},reset:A}}});var rD="u">typeof document?l.useLayoutEffect:function(){};function rk(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!rk(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!rk(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function rF(e){return"u"<typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rT(e,t){let r=rF(e);return Math.round(t*r)/r}function rV(e){let t=l.useRef(e);return rD(()=>{t.current=e}),t}var rO=l.forwardRef((e,t)=>{let{children:r,width:n=10,height:i=5,...o}=e;return(0,s.jsx)(ts.Primitive.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,s.jsx)("polygon",{points:"0,0 30,0 15,10"})})});rO.displayName="Arrow";var rP="Popper",[rM,rI]=(0,tr.createContextScope)(rP),[rL,rB]=rM(rP),rH=e=>{let{__scopePopper:t,children:r}=e,[n,i]=l.useState(null);return(0,s.jsx)(rL,{scope:t,anchor:n,onAnchorChange:i,children:r})};rH.displayName=rP;var rU="PopperAnchor",rz=l.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...i}=e,o=rB(rU,r),a=l.useRef(null),u=(0,tt.useComposedRefs)(t,a),c=l.useRef(null);return l.useEffect(()=>{let e=c.current;c.current=n?.current||a.current,e!==c.current&&o.onAnchorChange(c.current)}),n?null:(0,s.jsx)(ts.Primitive.div,{...i,ref:u})});rz.displayName=rU;var rW="PopperContent",[r$,rq]=rM(rW),rZ=l.forwardRef((e,t)=>{var r,n,i,o,a,u,c,d,f,p,m,h,g,v,y,x,b,w,S,N,_;let{__scopePopper:E,side:j="bottom",sideOffset:C=0,align:A="center",alignOffset:R=0,arrowPadding:D=0,avoidCollisions:k=!0,collisionBoundary:F=[],collisionPadding:T=0,sticky:V="partial",hideWhenDetached:O=!1,updatePositionStrategy:P="optimized",onPlaced:M,...I}=e,L=rB(rW,E),[B,H]=l.useState(null),U=(0,tt.useComposedRefs)(t,e=>H(e)),[z,W]=l.useState(null),$=function(e){let[t,r]=l.useState(void 0);return(0,ty.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(z),q=$?.width??0,Z=$?.height??0,K="number"==typeof T?T:{top:0,right:0,bottom:0,left:0,...T},Y=Array.isArray(F)?F:[F],X=Y.length>0,G={padding:K,boundary:Y.filter(rG),altBoundary:X},{refs:Q,floatingStyles:J,placement:ee,isPositioned:et,middlewareData:er}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:u,open:c}=e,[d,f]=l.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=l.useState(n);rk(p,n)||m(n);let[h,g]=l.useState(null),[v,y]=l.useState(null),x=l.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),b=l.useCallback(e=>{e!==_.current&&(_.current=e,y(e))},[]),w=o||h,S=a||v,N=l.useRef(null),_=l.useRef(null),E=l.useRef(d),j=null!=u,C=rV(u),A=rV(i),R=rV(c),D=l.useCallback(()=>{var e,n;let i,o,a;if(!N.current||!_.current)return;let s={placement:t,strategy:r,middleware:p};A.current&&(s.platform=A.current),(e=N.current,n=_.current,i=new Map,a={...(o={platform:rC,...s}).platform,_c:i},tZ(e,n,{...o,platform:a})).then(e=>{let t={...e,isPositioned:!1!==R.current};k.current&&!rk(E.current,t)&&(E.current=t,e3.flushSync(()=>{f(t)}))})},[p,t,r,A,R]);rD(()=>{!1===c&&E.current.isPositioned&&(E.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[c]);let k=l.useRef(!1);rD(()=>(k.current=!0,()=>{k.current=!1}),[]),rD(()=>{if(w&&(N.current=w),S&&(_.current=S),w&&S){if(C.current)return C.current(w,S,D);D()}},[w,S,D,C,j]);let F=l.useMemo(()=>({reference:N,floating:_,setReference:x,setFloating:b}),[x,b]),T=l.useMemo(()=>({reference:w,floating:S}),[w,S]),V=l.useMemo(()=>{let e={position:r,left:0,top:0};if(!T.floating)return e;let t=rT(T.floating,d.x),n=rT(T.floating,d.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...rF(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,T.floating,d.x,d.y]);return l.useMemo(()=>({...d,update:D,refs:F,elements:T,floatingStyles:V}),[d,D,F,T,V])}({strategy:"fixed",placement:j+("center"!==A?"-"+A:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=n,c=rm(e),d=o||a?[...c?rd(c):[],...rd(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});let f=c&&l?function(e,t){let r,n=null,i=t1(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();let u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:p}=u;if(s||t(),!f||!p)return;let m={rootMargin:-tj(d)+"px "+-tj(i.clientWidth-(c+f))+"px "+-tj(i.clientHeight-(d+p))+"px "+-tj(c)+"px",threshold:t_(0,tN(1,l))||1},h=!0;function g(t){let n=t[0].intersectionRatio;if(n!==l){if(!h)return a();n?a(!1,n):r=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==n||rA(u,e.getBoundingClientRect())||a(),h=!1}try{n=new IntersectionObserver(g,{...m,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(g,m)}n.observe(e)}(!0),o}(c,r):null,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),c&&!u&&m.observe(c),m.observe(t));let h=u?ry(e):null;return u&&function t(){let n=ry(e);h&&!rA(h,n)&&r(),h=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=m)||e.disconnect(),m=null,u&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===P}),elements:{reference:L.anchor},middleware:[{...{name:"offset",options:i=r={mainAxis:C+Z,alignmentAxis:R},async fn(e){var t,r;let{x:n,y:o,placement:a,middlewareData:s}=e,l=await tG(e,i);return a===(null==(t=s.offset)?void 0:t.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:o+l.y,data:{...l,placement:a}}}},options:[r,n]},k&&{...{name:"shift",options:f=c={mainAxis:!0,crossAxis:!1,limiter:"partial"===V?{...(void 0===(u=o)&&(u={}),{options:u,fn(e){let{x:t,y:r,placement:n,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:s=!0,crossAxis:l=!0}=tD(u,e),c={x:t,y:r},d=tP(n),f=tT(d),p=c[f],m=c[d],h=tD(a,e),g="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(s){let e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+g.mainAxis,r=i.reference[f]+i.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(l){var v,y;let e="y"===f?"width":"height",t=tX.has(tk(n)),r=i.reference[d]-i.floating[e]+(t&&(null==(v=o.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),a=i.reference[d]+i.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);m<r?m=r:m>a&&(m=a)}return{[f]:p,[d]:m}}}),options:[o,a]}:void 0,...G},async fn(e){let{x:t,y:r,placement:n,platform:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=tD(f,e),u={x:t,y:r},c=await i.detectOverflow(e,l),d=tP(tk(n)),p=tT(d),m=u[p],h=u[d];if(o){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=m+c[e],n=m-c[t];m=t_(r,tN(m,n))}if(a){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=h+c[e],n=h-c[t];h=t_(r,tN(h,n))}let g=s.fn({...e,[p]:m,[d]:h});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:o,[d]:a}}}}},options:[c,d]},k&&{...{name:"flip",options:h=p={...G},async fn(e){var t,r,n,i,o,a,s,l;let u,c,d,{placement:f,middlewareData:p,rects:m,initialPlacement:g,platform:v,elements:y}=e,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:_=!0,...E}=tD(h,e);if(null!=(t=p.arrow)&&t.alignmentOffset)return{};let j=tk(f),C=tP(g),A=tk(g)===g,R=await (null==v.isRTL?void 0:v.isRTL(y.floating)),D=w||(A||!_?[tU(g)]:(u=tU(g),[tM(g),u,tM(u)])),k="none"!==N;!w&&k&&D.push(...(c=tF(g),d=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?tL:tI;return t?tI:tL;case"left":case"right":return t?tB:tH;default:return[]}}(tk(g),"start"===N,R),c&&(d=d.map(e=>e+"-"+c),_&&(d=d.concat(d.map(tM)))),d));let F=[g,...D],T=await v.detectOverflow(e,E),V=[],O=(null==(r=p.flip)?void 0:r.overflows)||[];if(x&&V.push(T[j]),b){let e,t,r,n,i=(a=f,s=m,void 0===(l=R)&&(l=!1),e=tF(a),r=tV(t=tT(tP(a))),n="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",s.reference[r]>s.floating[r]&&(n=tU(n)),[n,tU(n)]);V.push(T[i[0]],T[i[1]])}if(O=[...O,{placement:f,overflows:V}],!V.every(e=>e<=0)){let e=((null==(n=p.flip)?void 0:n.index)||0)+1,t=F[e];if(t&&("alignment"!==b||C===tP(t)||O.every(e=>tP(e.placement)!==C||e.overflows[0]>0)))return{data:{index:e,overflows:O},reset:{placement:t}};let r=null==(i=O.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!r)switch(S){case"bestFit":{let e=null==(o=O.filter(e=>{if(k){let t=tP(e.placement);return t===C||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=g}if(f!==r)return{reset:{placement:r}}}return{}}},options:[p,m]},{...{name:"size",options:y=g={...G,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:o}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${n}px`),a.setProperty("--radix-popper-anchor-width",`${i}px`),a.setProperty("--radix-popper-anchor-height",`${o}px`)}},async fn(e){var t,r;let n,i,{placement:o,rects:a,platform:s,elements:l}=e,{apply:u=()=>{},...c}=tD(y,e),d=await s.detectOverflow(e,c),f=tk(o),p=tF(o),m="y"===tP(o),{width:h,height:g}=a.floating;"top"===f||"bottom"===f?(n=f,i=p===(await (null==s.isRTL?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(i=f,n="end"===p?"top":"bottom");let v=g-d.top-d.bottom,x=h-d.left-d.right,b=tN(g-d[n],v),w=tN(h-d[i],x),S=!e.middlewareData.shift,N=b,_=w;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(_=x),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(N=v),S&&!p){let e=t_(d.left,0),t=t_(d.right,0),r=t_(d.top,0),n=t_(d.bottom,0);m?_=h-2*(0!==e||0!==t?e+t:t_(d.left,d.right)):N=g-2*(0!==r||0!==n?r+n:t_(d.top,d.bottom))}await u({...e,availableWidth:_,availableHeight:N});let E=await s.getDimensions(l.floating);return h!==E.width||g!==E.height?{reset:{rects:!0}}:{}}},options:[g,v]},z&&{...{name:"arrow",options:w=x={element:z,padding:D},fn(e){let{element:t,padding:r}="function"==typeof w?w(e):w;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?rR({element:t.current,padding:r}).fn(e):{}:t?rR({element:t,padding:r}).fn(e):{}}},options:[x,b]},rQ({arrowWidth:q,arrowHeight:Z}),O&&{...{name:"hide",options:_=S={strategy:"referenceHidden",...G},async fn(e){let{rects:t,platform:r}=e,{strategy:n="referenceHidden",...i}=tD(_,e);switch(n){case"referenceHidden":{let n=tK(await r.detectOverflow(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:tY(n)}}}case"escaped":{let n=tK(await r.detectOverflow(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:tY(n)}}}default:return{}}}},options:[S,N]}]}),[en,ei]=rJ(ee),eo=(0,tl.useCallbackRef)(M);(0,ty.useLayoutEffect)(()=>{et&&eo?.()},[et,eo]);let ea=er.arrow?.x,es=er.arrow?.y,el=er.arrow?.centerOffset!==0,[eu,ec]=l.useState();return(0,ty.useLayoutEffect)(()=>{B&&ec(window.getComputedStyle(B).zIndex)},[B]),(0,s.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:et?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[er.transformOrigin?.x,er.transformOrigin?.y].join(" "),...er.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,s.jsx)(r$,{scope:E,placedSide:en,onArrowChange:W,arrowX:ea,arrowY:es,shouldHideArrow:el,children:(0,s.jsx)(ts.Primitive.div,{"data-side":en,"data-align":ei,...I,ref:U,style:{...I.style,animation:et?void 0:"none"}})})})});rZ.displayName=rW;var rK="PopperArrow",rY={top:"bottom",right:"left",bottom:"top",left:"right"},rX=l.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,i=rq(rK,r),o=rY[i.placedSide];return(0,s.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,s.jsx)(rO,{...n,ref:t,style:{...n.style,display:"block"}})})});function rG(e){return null!==e}rX.displayName=rK;var rQ=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,s=o?0:e.arrowHeight,[l,u]=rJ(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+a/2,f=(i.arrow?.y??0)+s/2,p="",m="";return"bottom"===l?(p=o?c:`${d}px`,m=`${-s}px`):"top"===l?(p=o?c:`${d}px`,m=`${n.floating.height+s}px`):"right"===l?(p=`${-s}px`,m=o?c:`${f}px`):"left"===l&&(p=`${n.floating.width+s}px`,m=o?c:`${f}px`),{data:{x:p,y:m}}}});function rJ(e){let[t,r="center"]=e.split("-");return[t,r]}var r0=e.i(74606),r1=Symbol("radix.slottable");function r2(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===r1}var r4=e.i(69340),r5=e.i(59411),r7=new WeakMap,r9=new WeakMap,r3={},r8=0,r6=function(e){return e&&(e.host||r6(e.parentNode))},ne=function(e,t,r,n){var i=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=r6(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});r3[r]||(r3[r]=new WeakMap);var o=r3[r],a=[],s=new Set,l=new Set(i),u=function(e){!e||s.has(e)||(s.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))c(e);else try{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(r7.get(e)||0)+1,u=(o.get(e)||0)+1;r7.set(e,l),o.set(e,u),a.push(e),1===l&&i&&r9.set(e,!0),1===u&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),s.clear(),r8++,function(){a.forEach(function(e){var t=r7.get(e)-1,i=o.get(e)-1;r7.set(e,t),o.set(e,i),t||(r9.has(e)||e.removeAttribute(n),r9.delete(e)),i||e.removeAttribute(r)}),--r8||(r7=new WeakMap,r7=new WeakMap,r9=new WeakMap,r3={})}},nt=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),ne(n,i,r,"aria-hidden")):function(){return null}},nr=function(){return(nr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function nn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var ni=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),no="width-before-scroll-bar";function na(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ns="u">typeof window?l.useLayoutEffect:l.useEffect,nl=new WeakMap,nu=(void 0===iX&&(iX={}),(void 0===iG&&(iG=function(e){return e}),iQ=[],iJ=!1,i0={read:function(){if(iJ)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return iQ.length?iQ[iQ.length-1]:null},useMedium:function(e){var t=iG(e,iJ);return iQ.push(t),function(){iQ=iQ.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(iJ=!0;iQ.length;){var t=iQ;iQ=[],t.forEach(e)}iQ={push:function(t){return e(t)},filter:function(){return iQ}}},assignMedium:function(e){iJ=!0;var t=[];if(iQ.length){var r=iQ;iQ=[],r.forEach(e),t=iQ}var n=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),iQ={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),iQ}}}}).options=nr({async:!0,ssr:!1},iX),i0),nc=function(){},nd=l.forwardRef(function(e,t){var r,n,i,o,a=l.useRef(null),s=l.useState({onScrollCapture:nc,onWheelCapture:nc,onTouchMoveCapture:nc}),u=s[0],c=s[1],d=e.forwardProps,f=e.children,p=e.className,m=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,x=e.noIsolation,b=e.inert,w=e.allowPinchZoom,S=e.as,N=e.gapMode,_=nn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=(r=[a,t],n=function(e){return r.forEach(function(t){return na(t,e)})},(i=(0,l.useState)(function(){return{value:null,callback:n,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=n,o=i.facade,ns(function(){var e=nl.get(o);if(e){var t=new Set(e),n=new Set(r),i=o.current;t.forEach(function(e){n.has(e)||na(e,null)}),n.forEach(function(e){t.has(e)||na(e,i)})}nl.set(o,r)},[r]),o),j=nr(nr({},_),u);return l.createElement(l.Fragment,null,h&&l.createElement(v,{sideCar:nu,removeScrollBar:m,shards:g,noRelative:y,noIsolation:x,inert:b,setCallbacks:c,allowPinchZoom:!!w,lockRef:a,gapMode:N}),d?l.cloneElement(l.Children.only(f),nr(nr({},j),{ref:E})):l.createElement(void 0===S?"div":S,nr({},j,{className:p,ref:E}),f))});nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},nd.classNames={fullWidth:no,zeroRight:ni};var nf=function(e){var t=e.sideCar,r=nn(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return l.createElement(n,nr({},r))};nf.isSideCarExport=!0;var np=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i4||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,i;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nm=function(){var e=np();return function(t,r){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nh=function(){var e=nm();return function(t){return e(t.styles,t.dynamic),null}},ng={left:0,top:0,right:0,gap:0},nv=function(e){return parseInt(e||"",10)||0},ny=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[nv(r),nv(n),nv(i)]},nx=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return ng;var t=ny(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nb=nh(),nw="data-scroll-locked",nS=function(e,t,r,n){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(nw,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ni," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(no," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(ni," .").concat(ni," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(no," .").concat(no," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(nw,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},nN=function(){var e=parseInt(document.body.getAttribute(nw)||"0",10);return isFinite(e)?e:0},n_=function(){l.useEffect(function(){return document.body.setAttribute(nw,(nN()+1).toString()),function(){var e=nN()-1;e<=0?document.body.removeAttribute(nw):document.body.setAttribute(nw,e.toString())}},[])},nE=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;n_();var o=l.useMemo(function(){return nx(i)},[i]);return l.createElement(nb,{styles:nS(o,!t,i,r?"":"!important")})},nj=!1;if("u">typeof window)try{var nC=Object.defineProperty({},"passive",{get:function(){return nj=!0,!0}});window.addEventListener("test",nC,nC),window.removeEventListener("test",nC,nC)}catch(e){nj=!1}var nA=!!nj&&{passive:!1},nR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},nD=function(e,t){var r=t.ownerDocument,n=t;do{if("u">typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),nk(e,n)){var i=nF(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},nk=function(e,t){return"v"===e?nR(t,"overflowY"):nR(t,"overflowX")},nF=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},nT=function(e,t,r,n,i){var o,a=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),s=a*n,l=r.target,u=t.contains(l),c=!1,d=s>0,f=0,p=0;do{if(!l)break;var m=nF(e,l),h=m[0],g=m[1]-m[2]-a*h;(h||g)&&nk(e,l)&&(f+=g,p+=h);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return d&&(i&&1>Math.abs(f)||!i&&s>f)?c=!0:!d&&(i&&1>Math.abs(p)||!i&&-s>p)&&(c=!0),c},nV=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nO=function(e){return[e.deltaX,e.deltaY]},nP=function(e){return e&&"current"in e?e.current:e},nM=0,nI=[];let nL=(i1=function(e){var t=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),i=l.useState(nM++)[0],o=l.useState(nh)[0],a=l.useRef(e);l.useEffect(function(){a.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(nP),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=l.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var i,o=nV(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-o[0],u="deltaY"in e?e.deltaY:s[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=window.getSelection(),p=f&&f.anchorNode;if(p&&(p===c||p.contains(c)))return!1;var m=nD(d,c);if(!m)return!0;if(m?i=d:(i="v"===d?"h":"v",m=nD(d,c)),!m)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var h=n.current||i;return nT(h,t,e,"h"===h?l:u,!0)},[]),u=l.useCallback(function(e){if(nI.length&&nI[nI.length-1]===o){var r="deltaY"in e?nO(e):nV(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var i=(a.current.shards||[]).map(nP).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?s(e,i[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=l.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=l.useCallback(function(e){r.current=nV(e),n.current=void 0},[]),f=l.useCallback(function(t){c(t.type,nO(t),t.target,s(t,e.lockRef.current))},[]),p=l.useCallback(function(t){c(t.type,nV(t),t.target,s(t,e.lockRef.current))},[]);l.useEffect(function(){return nI.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,nA),document.addEventListener("touchmove",u,nA),document.addEventListener("touchstart",d,nA),function(){nI=nI.filter(function(e){return e!==o}),document.removeEventListener("wheel",u,nA),document.removeEventListener("touchmove",u,nA),document.removeEventListener("touchstart",d,nA)}},[]);var m=e.removeScrollBar,h=e.inert;return l.createElement(l.Fragment,null,h?l.createElement(o,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,m?l.createElement(nE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},nu.useMedium(i1),nf);var nB=l.forwardRef(function(e,t){return l.createElement(nd,nr({},e,{ref:t,sideCar:nL}))});nB.classNames=nd.classNames;var nH=[" ","Enter","ArrowUp","ArrowDown"],nU=[" ","Enter"],nz="Select",[nW,n$,nq]=(0,te.createCollection)(nz),[nZ,nK]=(0,tr.createContextScope)(nz,[nq,rI]),nY=rI(),[nX,nG]=nZ(nz),[nQ,nJ]=nZ(nz),n0=e=>{let t,{__scopeSelect:r,children:n,open:i,defaultOpen:o,onOpenChange:a,value:u,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:h,required:g,form:v}=e,y=nY(r),[x,b]=l.useState(null),[w,S]=l.useState(null),[N,_]=l.useState(!1),E=(t=l.useContext(tn),f||t||"ltr"),[j,C]=(0,r4.useControllableState)({prop:i,defaultProp:o??!1,onChange:a,caller:nz}),[A,R]=(0,r4.useControllableState)({prop:u,defaultProp:c,onChange:d,caller:nz}),D=l.useRef(null),k=!x||v||!!x.closest("form"),[F,T]=l.useState(new Set),V=Array.from(F).map(e=>e.props.value).join(";");return(0,s.jsx)(rH,{...y,children:(0,s.jsxs)(nX,{required:g,scope:r,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:tw(),value:A,onValueChange:R,open:j,onOpenChange:C,dir:E,triggerPointerDownPosRef:D,disabled:h,children:[(0,s.jsx)(nW.Provider,{scope:r,children:(0,s.jsx)(nQ,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:l.useCallback(e=>{T(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:n})}),k?(0,s.jsxs)(ik,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:m,value:A,onChange:e=>R(e.target.value),disabled:h,form:v,children:[void 0===A?(0,s.jsx)("option",{value:""}):null,Array.from(F)]},V):null]})})};n0.displayName=nz;var n1="SelectTrigger",n2=l.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...i}=e,o=nY(r),a=nG(n1,r),u=a.disabled||n,c=(0,tt.useComposedRefs)(t,a.onTriggerChange),d=n$(r),f=l.useRef("touch"),[p,m,h]=iT(e=>{let t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===a.value),n=iV(t,e,r);void 0!==n&&a.onValueChange(n.value)}),g=e=>{u||(a.onOpenChange(!0),h()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,s.jsx)(rz,{asChild:!0,...o,children:(0,s.jsx)(ts.Primitive.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":iF(a.value)?"":void 0,...i,ref:c,onClick:(0,e6.composeEventHandlers)(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&g(e)}),onPointerDown:(0,e6.composeEventHandlers)(i.onPointerDown,e=>{f.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:(0,e6.composeEventHandlers)(i.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&nH.includes(e.key)&&(g(),e.preventDefault())})})})});n2.displayName=n1;var n4="SelectValue",n5=l.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,children:o,placeholder:a="",...l}=e,u=nG(n4,r),{onValueNodeHasChildrenChange:c}=u,d=void 0!==o,f=(0,tt.useComposedRefs)(t,u.onValueNodeChange);return(0,ty.useLayoutEffect)(()=>{c(d)},[c,d]),(0,s.jsx)(ts.Primitive.span,{...l,ref:f,style:{pointerEvents:"none"},children:iF(u.value)?(0,s.jsx)(s.Fragment,{children:a}):o})});n5.displayName=n4;var n7=l.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...i}=e;return(0,s.jsx)(ts.Primitive.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});n7.displayName="SelectIcon";var n9=e=>(0,s.jsx)(r0.Portal,{asChild:!0,...e});n9.displayName="SelectPortal";var n3="SelectContent",n8=l.forwardRef((e,t)=>{let r=nG(n3,e.__scopeSelect),[n,i]=l.useState();return((0,ty.useLayoutEffect)(()=>{i(new DocumentFragment)},[]),r.open)?(0,s.jsx)(ir,{...e,ref:t}):n?e3.createPortal((0,s.jsx)(n6,{scope:e.__scopeSelect,children:(0,s.jsx)(nW.Slot,{scope:e.__scopeSelect,children:(0,s.jsx)("div",{children:e.children})})}),n):null});n8.displayName=n3;var[n6,ie]=nZ(n3),it=((a=l.forwardRef((e,t)=>{let{children:r,...n}=e;if(l.isValidElement(r)){var i;let e,o,a=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),s=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==l.Fragment&&(s.ref=t?(0,tt.composeRefs)(t,a):a),l.cloneElement(r,s)}return l.Children.count(r)>1?l.Children.only(null):null})).displayName="SelectContent.RemoveScroll.SlotClone",t=a,(r=l.forwardRef((e,r)=>{let{children:n,...i}=e,o=l.Children.toArray(n),a=o.find(r2);if(a){let e=a.props.children,n=o.map(t=>t!==a?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...i,ref:r,children:l.isValidElement(e)?l.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...i,ref:r,children:n})})).displayName="SelectContent.RemoveScroll.Slot",r),ir=l.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:u,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:y,...x}=e,b=nG(n3,r),[w,S]=l.useState(null),[N,_]=l.useState(null),E=(0,tt.useComposedRefs)(t,e=>S(e)),[j,C]=l.useState(null),[A,R]=l.useState(null),D=n$(r),[k,F]=l.useState(!1),T=l.useRef(!1);l.useEffect(()=>{if(w)return nt(w)},[w]),l.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ta()),document.body.insertAdjacentElement("beforeend",e[1]??ta()),to++,()=>{1===to&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),to--}},[]);let V=l.useCallback(e=>{let[t,...r]=D().map(e=>e.ref.current),[n]=r.slice(-1),i=document.activeElement;for(let r of e)if(r===i||(r?.scrollIntoView({block:"nearest"}),r===t&&N&&(N.scrollTop=0),r===n&&N&&(N.scrollTop=N.scrollHeight),r?.focus(),document.activeElement!==i))return},[D,N]),O=l.useCallback(()=>V([j,w]),[V,j,w]);l.useEffect(()=>{k&&O()},[k,O]);let{onOpenChange:P,triggerPointerDownPosRef:M}=b;l.useEffect(()=>{if(w){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(M.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():w.contains(r.target)||P(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[w,P,M]),l.useEffect(()=>{let e=()=>P(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[P]);let[I,L]=iT(e=>{let t=D().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=iV(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),B=l.useCallback((e,t,r)=>{let n=!T.current&&!r;(void 0!==b.value&&b.value===t||n)&&(C(e),n&&(T.current=!0))},[b.value]),H=l.useCallback(()=>w?.focus(),[w]),U=l.useCallback((e,t,r)=>{let n=!T.current&&!r;(void 0!==b.value&&b.value===t||n)&&R(e)},[b.value]),z="popper"===n?io:ii,W=z===io?{side:u,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return(0,s.jsx)(n6,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:B,selectedItem:j,onItemLeave:H,itemTextRefCallback:U,focusSelectedItem:O,selectedItemText:A,position:n,isPositioned:k,searchRef:I,children:(0,s.jsx)(nB,{as:it,allowPinchZoom:!0,children:(0,s.jsx)(tf,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,e6.composeEventHandlers)(i,e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,s.jsx)(ti.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,s.jsx)(z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...x,...W,onPlaced:()=>F(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:(0,e6.composeEventHandlers)(x.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>V(t)),e.preventDefault()}})})})})})})});ir.displayName="SelectContentImpl";var ii=l.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...i}=e,o=nG(n3,r),a=ie(n3,r),[u,c]=l.useState(null),[d,f]=l.useState(null),p=(0,tt.useComposedRefs)(t,e=>f(e)),m=n$(r),h=l.useRef(!1),g=l.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=a,w=l.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&d&&v&&y&&x){let e=o.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),i=x.getBoundingClientRect();if("rtl"!==o.dir){let n=i.left-t.left,o=r.left-n,a=e.left-o,s=e.width+a,l=Math.max(s,t.width),c=e8(o,[10,Math.max(10,window.innerWidth-10-l)]);u.style.minWidth=s+"px",u.style.left=c+"px"}else{let n=t.right-i.right,o=window.innerWidth-r.right-n,a=window.innerWidth-e.right-o,s=e.width+a,l=Math.max(s,t.width),c=e8(o,[10,Math.max(10,window.innerWidth-10-l)]);u.style.minWidth=s+"px",u.style.right=c+"px"}let a=m(),s=window.innerHeight-20,l=v.scrollHeight,c=window.getComputedStyle(d),f=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),g=parseInt(c.borderBottomWidth,10),b=f+p+l+parseInt(c.paddingBottom,10)+g,w=Math.min(5*y.offsetHeight,b),S=window.getComputedStyle(v),N=parseInt(S.paddingTop,10),_=parseInt(S.paddingBottom,10),E=e.top+e.height/2-10,j=y.offsetHeight/2,C=f+p+(y.offsetTop+j);if(C<=E){let e=a.length>0&&y===a[a.length-1].ref.current;u.style.bottom="0px";let t=Math.max(s-E,j+(e?_:0)+(d.clientHeight-v.offsetTop-v.offsetHeight)+g);u.style.height=C+t+"px"}else{let e=a.length>0&&y===a[0].ref.current;u.style.top="0px";let t=Math.max(E,f+v.offsetTop+(e?N:0)+j);u.style.height=t+(b-C)+"px",v.scrollTop=C-E+v.offsetTop}u.style.margin="10px 0",u.style.minHeight=w+"px",u.style.maxHeight=s+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[m,o.trigger,o.valueNode,u,d,v,y,x,o.dir,n]);(0,ty.useLayoutEffect)(()=>w(),[w]);let[S,N]=l.useState();(0,ty.useLayoutEffect)(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);let _=l.useCallback(e=>{e&&!0===g.current&&(w(),b?.(),g.current=!1)},[w,b]);return(0,s.jsx)(ia,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:(0,s.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,s.jsx)(ts.Primitive.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ii.displayName="SelectItemAlignedPosition";var io=l.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:i=10,...o}=e,a=nY(r);return(0,s.jsx)(rZ,{...a,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});io.displayName="SelectPopperPosition";var[ia,is]=nZ(n3,{}),il="SelectViewport",iu=l.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...i}=e,o=ie(il,r),a=is(il,r),u=(0,tt.useComposedRefs)(t,o.onViewportChange),c=l.useRef(0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,s.jsx)(nW.Slot,{scope:r,children:(0,s.jsx)(ts.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:(0,e6.composeEventHandlers)(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=a;if(n?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,i=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(i<n){let o=i+e,a=Math.min(n,o),s=o-a;r.style.height=a+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});iu.displayName=il;var ic="SelectGroup",[id,ip]=nZ(ic);l.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=tw();return(0,s.jsx)(id,{scope:r,id:i,children:(0,s.jsx)(ts.Primitive.div,{role:"group","aria-labelledby":i,...n,ref:t})})}).displayName=ic;var im="SelectLabel",ih=l.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=ip(im,r);return(0,s.jsx)(ts.Primitive.div,{id:i.id,...n,ref:t})});ih.displayName=im;var ig="SelectItem",[iv,iy]=nZ(ig),ix=l.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...a}=e,u=nG(ig,r),c=ie(ig,r),d=u.value===n,[f,p]=l.useState(o??""),[m,h]=l.useState(!1),g=(0,tt.useComposedRefs)(t,e=>c.itemRefCallback?.(e,n,i)),v=tw(),y=l.useRef("touch"),x=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,s.jsx)(iv,{scope:r,value:n,disabled:i,textId:v,isSelected:d,onItemTextChange:l.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,s.jsx)(nW.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:(0,s.jsx)(ts.Primitive.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:(0,e6.composeEventHandlers)(a.onFocus,()=>h(!0)),onBlur:(0,e6.composeEventHandlers)(a.onBlur,()=>h(!1)),onClick:(0,e6.composeEventHandlers)(a.onClick,()=>{"mouse"!==y.current&&x()}),onPointerUp:(0,e6.composeEventHandlers)(a.onPointerUp,()=>{"mouse"===y.current&&x()}),onPointerDown:(0,e6.composeEventHandlers)(a.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:(0,e6.composeEventHandlers)(a.onPointerMove,e=>{y.current=e.pointerType,i?c.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,e6.composeEventHandlers)(a.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,e6.composeEventHandlers)(a.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&(nU.includes(e.key)&&x()," "===e.key&&e.preventDefault())})})})})});ix.displayName=ig;var ib="SelectItemText",iw=l.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,...o}=e,a=nG(ib,r),u=ie(ib,r),c=iy(ib,r),d=nJ(ib,r),[f,p]=l.useState(null),m=(0,tt.useComposedRefs)(t,e=>p(e),c.onItemTextChange,e=>u.itemTextRefCallback?.(e,c.value,c.disabled)),h=f?.textContent,g=l.useMemo(()=>(0,s.jsx)("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return(0,ty.useLayoutEffect)(()=>(v(g),()=>y(g)),[v,y,g]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ts.Primitive.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?e3.createPortal(o.children,a.valueNode):null]})});iw.displayName=ib;var iS="SelectItemIndicator",iN=l.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return iy(iS,r).isSelected?(0,s.jsx)(ts.Primitive.span,{"aria-hidden":!0,...n,ref:t}):null});iN.displayName=iS;var i_="SelectScrollUpButton",iE=l.forwardRef((e,t)=>{let r=ie(i_,e.__scopeSelect),n=is(i_,e.__scopeSelect),[i,o]=l.useState(!1),a=(0,tt.useComposedRefs)(t,n.onScrollButtonChange);return(0,ty.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){o(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,s.jsx)(iA,{...e,ref:a,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});iE.displayName=i_;var ij="SelectScrollDownButton",iC=l.forwardRef((e,t)=>{let r=ie(ij,e.__scopeSelect),n=is(ij,e.__scopeSelect),[i,o]=l.useState(!1),a=(0,tt.useComposedRefs)(t,n.onScrollButtonChange);return(0,ty.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,s.jsx)(iA,{...e,ref:a,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});iC.displayName=ij;var iA=l.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...i}=e,o=ie("SelectScrollButton",r),a=l.useRef(null),u=n$(r),c=l.useCallback(()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)},[]);return l.useEffect(()=>()=>c(),[c]),(0,ty.useLayoutEffect)(()=>{let e=u().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[u]),(0,s.jsx)(ts.Primitive.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,e6.composeEventHandlers)(i.onPointerDown,()=>{null===a.current&&(a.current=window.setInterval(n,50))}),onPointerMove:(0,e6.composeEventHandlers)(i.onPointerMove,()=>{o.onItemLeave?.(),null===a.current&&(a.current=window.setInterval(n,50))}),onPointerLeave:(0,e6.composeEventHandlers)(i.onPointerLeave,()=>{c()})})}),iR=l.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,s.jsx)(ts.Primitive.div,{"aria-hidden":!0,...n,ref:t})});iR.displayName="SelectSeparator";var iD="SelectArrow";l.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=nY(r),o=nG(iD,r),a=ie(iD,r);return o.open&&"popper"===a.position?(0,s.jsx)(rX,{...i,...n,ref:t}):null}).displayName=iD;var ik=l.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let i,o=l.useRef(null),a=(0,tt.useComposedRefs)(n,o),u=(i=l.useRef({value:t,previous:t}),l.useMemo(()=>(i.current.value!==t&&(i.current.previous=i.current.value,i.current.value=t),i.current.previous),[t]));return l.useEffect(()=>{let e=o.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(u!==t&&r){let n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[u,t]),(0,s.jsx)(ts.Primitive.select,{...r,style:{...r5.VISUALLY_HIDDEN_STYLES,...r.style},ref:a,defaultValue:t})});function iF(e){return""===e||void 0===e}function iT(e){let t=(0,tl.useCallbackRef)(e),r=l.useRef(""),n=l.useRef(0),i=l.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),o=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function iV(e,t,r){var n,i;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,s=(n=e,i=Math.max(a,0),n.map((e,t)=>n[(i+t)%n.length]));1===o.length&&(s=s.filter(e=>e!==r));let l=s.find(e=>e.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}ik.displayName="SelectBubbleInput";var iO=e.i(75254);let iP=(0,iO.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var iM=e.i(64659),iI=e.i(55900);let iL=l.forwardRef(({className:e,children:t,...r},n)=>(0,s.jsxs)(n2,{ref:n,className:(0,e5.cn)("flex h-10 w-full items-center justify-between rounded-sm border border-border bg-surface px-3 py-2 text-sm text-text-primary","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-primary/50 focus:border-accent-primary","disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,s.jsx)(n7,{asChild:!0,children:(0,s.jsx)(iM.ChevronDown,{className:"h-4 w-4 text-text-muted"})})]}));iL.displayName=n2.displayName;let iB=l.forwardRef(({className:e,...t},r)=>(0,s.jsx)(iE,{ref:r,className:(0,e5.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(iI.ChevronUp,{className:"h-4 w-4"})}));iB.displayName=iE.displayName;let iH=l.forwardRef(({className:e,...t},r)=>(0,s.jsx)(iC,{ref:r,className:(0,e5.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(iM.ChevronDown,{className:"h-4 w-4"})}));iH.displayName=iC.displayName;let iU=l.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>(0,s.jsx)(n9,{children:(0,s.jsxs)(n8,{ref:i,className:(0,e5.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-sm border border-border bg-carbon text-text-primary shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[(0,s.jsx)(iB,{}),(0,s.jsx)(iu,{className:(0,e5.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(iH,{})]})}));iU.displayName=n8.displayName,l.forwardRef(({className:e,...t},r)=>(0,s.jsx)(ih,{ref:r,className:(0,e5.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=ih.displayName;let iz=l.forwardRef(({className:e,children:t,...r},n)=>(0,s.jsxs)(ix,{ref:n,className:(0,e5.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-surface focus:text-accent-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(iN,{children:(0,s.jsx)(iP,{className:"h-4 w-4"})})}),(0,s.jsx)(iw,{children:t})]}));iz.displayName=ix.displayName,l.forwardRef(({className:e,...t},r)=>(0,s.jsx)(iR,{ref:r,className:(0,e5.cn)("-mx-1 my-1 h-px bg-border",e),...t})).displayName=iR.displayName;var iW=e.i(27612);let i$=(0,iO.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var iq,iZ,iK,iY,iX,iG,iQ,iJ,i0,i1,i2,i4,i5,i7,i9="0123456789abcdef",i3="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",i8="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",i6={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},oe=!0,ot="[DecimalError] ",or=ot+"Invalid argument: ",on=ot+"Precision limit exceeded",oi=ot+"crypto unavailable",oo="[object Decimal]",oa=Math.floor,os=Math.pow,ol=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ou=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,od=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,of=i3.length-1,op=i8.length-1,om={toStringTag:oo};function oh(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=oj(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=oj(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function og(e,t,r){if(e!==~~e||e<t||e>r)throw Error(or+e)}function ov(e,t,r,n){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=os(10,7-t),s=e[i]%o|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(e[i+1]/o/100|0)==os(10,t-2)-1||(s==o/2||0==s)&&(e[i+1]/o/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==o||!n&&r>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==os(10,t-3)-1,a}function oy(e,t,r){for(var n,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=i9.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}om.absoluteValue=om.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ob(e)},om.ceil=function(){return ob(new this.constructor(this),this.e+1,2)},om.clampedTo=om.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(or+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},om.comparedTo=om.cmp=function(e){var t,r,n,i,o=this.d,a=(e=new this.constructor(e)).d,s=this.s,l=e.s;if(!o||!a)return s&&l?s!==l?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-l:0;if(s!==l)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(n=o.length)<(i=a.length)?n:i;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},om.cosine=om.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/oO(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=oV(e,1,t.times(i),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,oP(n,r)),n.precision=e,n.rounding=t,ob(2==i7||3==i7?r.neg():r,e,t,!0)):new n(1):new n(NaN)},om.cubeRoot=om.cbrt=function(){var e,t,r,n,i,o,a,s,l,u,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(oe=!1,(o=this.s*os(this.s*this,1/3))&&Math.abs(o)!=1/0?n=new c(o.toString()):(r=oh(this.d),(o=((e=this.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=os(r,1/3),e=oa((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),a=(e=c.precision)+3;;)if(n=ox((u=(l=(s=n).times(s).times(s)).plus(this)).plus(this).times(s),u.plus(l),a+2,1),oh(s.d).slice(0,a)===(r=oh(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ob(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(ob(s,e+1,0),s.times(s).times(s).eq(this))){n=s;break}a+=4,i=1}return oe=!0,ob(n,e,c.rounding,t)},om.decimalPlaces=om.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-oa(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},om.dividedBy=om.div=function(e){return ox(this,new this.constructor(e))},om.dividedToIntegerBy=om.divToInt=function(e){var t=this.constructor;return ob(ox(this,new t(e),0,1,1),t.precision,t.rounding)},om.equals=om.eq=function(e){return 0===this.cmp(e)},om.floor=function(){return ob(new this.constructor(this),this.e+1,3)},om.greaterThan=om.gt=function(e){return this.cmp(e)>0},om.greaterThanOrEqualTo=om.gte=function(e){var t=this.cmp(e);return 1==t||0===t},om.hyperbolicCosine=om.cosh=function(){var e,t,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/oO(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=oV(a,1,o.times(t),new a(1),!0);for(var l,u=e,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return ob(o,a.precision=r,a.rounding=n,!0)},om.hyperbolicSine=om.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=oV(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=oV(o,2,i=i.times(1/oO(5,e)),i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=t,o.rounding=r,ob(i,t,r,!0)},om.hyperbolicTangent=om.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,ox(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},om.inverseCosine=om.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?o_(t,n,i):new t(0):new t(NaN):e.isZero()?o_(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},om.inverseHyperbolicCosine=om.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,oe=!1,r=r.times(r).minus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},om.inverseHyperbolicSine=om.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,oe=!1,r=r.times(r).plus(1).sqrt().plus(r),oe=!0,n.precision=e,n.rounding=t,r.ln())},om.inverseHyperbolicTangent=om.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?ob(new o(i),e,t,!0):(o.precision=r=n-i.e,i=ox(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5)):new o(NaN)},om.inverseSine=om.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t)?0===t?((e=o_(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2))},om.inverseTangent=om.atan=function(){var e,t,r,n,i,o,a,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);else if(u.abs().eq(1)&&d+4<=op)return(a=o_(c,d+4,f).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(d+4<=op)return(a=o_(c,d+4,f).times(.5)).s=u.s,a}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(oe=!1,t=Math.ceil(s/7),n=1,l=u.times(u),a=new c(u),i=u;-1!==e;)if(i=i.times(l),o=a.minus(i.div(n+=2)),i=i.times(l),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),oe=!0,ob(a,c.precision=d,c.rounding=f,!0)},om.isFinite=function(){return!!this.d},om.isInteger=om.isInt=function(){return!!this.d&&oa(this.e/7)>this.d.length-2},om.isNaN=function(){return!this.s},om.isNegative=om.isNeg=function(){return this.s<0},om.isPositive=om.isPos=function(){return this.s>0},om.isZero=function(){return!!this.d&&0===this.d[0]},om.lessThan=om.lt=function(e){return 0>this.cmp(e)},om.lessThanOrEqualTo=om.lte=function(e){return 1>this.cmp(e)},om.logarithm=om.log=function(e){var t,r,n,i,o,a,s,l=this.constructor,u=l.precision,c=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(oe=!1,ov((s=ox(o=ok(this,a=u+5),t?oN(l,a+10):ok(e,a),a,1)).d,n=u,c))do if(a+=10,s=ox(o=ok(this,a),t?oN(l,a+10):ok(e,a),a,1),!i){+oh(s.d).slice(n+1,n+15)+1==1e14&&(s=ob(s,u+1,0));break}while(ov(s.d,n+=10,c))return oe=!0,ob(s,u,c)},om.minus=om.sub=function(e){var t,r,n,i,o,a,s,l,u,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,f=e.d,s=p.precision,l=p.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!u[0])return new p(3===l?-0:0);e=new p(this)}return oe?ob(e,s,l):e}if(r=oa(e.e/7),c=oa(this.e/7),u=u.slice(),o=c-r){for((d=o<0)?(t=u,o=-o,a=f.length):(t=f,r=c,a=u.length),o>(n=Math.max(Math.ceil(s/7),a)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((d=(n=u.length)<(a=f.length))&&(a=n),n=0;n<a;n++)if(u[n]!=f[n]){d=u[n]<f[n];break}o=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),a=u.length,n=f.length-a;n>0;--n)u[a++]=0;for(n=f.length;n>o;){if(u[--n]<f[n]){for(i=n;i&&0===u[--i];)u[i]=1e7-1;--u[i],u[n]+=1e7}u[n]-=f[n]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=oS(u,r),oe?ob(e,s,l):e):new p(3===l?-0:0)},om.modulo=om.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(oe=!1,9==r.modulo?(t=ox(this,e.abs(),0,3,1),t.s*=e.s):t=ox(this,e,0,r.modulo,1),t=t.times(e),oe=!0,this.minus(t)):ob(new r(this),r.precision,r.rounding):new r(NaN)},om.naturalExponential=om.exp=function(){return oD(this)},om.naturalLogarithm=om.ln=function(){return ok(this)},om.negated=om.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ob(e)},om.plus=om.add=function(e){var t,r,n,i,o,a,s,l,u,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,c=e.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(this)),oe?ob(e,s,l):e;if(o=oa(this.e/7),n=oa(e.e/7),u=u.slice(),i=o-n){for(i<0?(r=u,i=-i,a=c.length):(r=c,n=o,a=u.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=u.length)-(i=c.length)<0&&(i=a,r=c,c=u,u=r),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/1e7|0,u[i]%=1e7;for(t&&(u.unshift(t),++n),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=oS(u,n),oe?ob(e,s,l):e},om.precision=om.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(or+e);return this.d?(t=oE(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},om.round=function(){var e=this.constructor;return ob(new e(this),this.e+1,e.rounding)},om.sine=om.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:oV(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=oV(e,2,t=t.times(1/oO(5,r)),t);for(var i,o=new e(5),a=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(n,oP(n,r)),n.precision=e,n.rounding=t,ob(i7>2?r.neg():r,e,t,!0)):new n(NaN)},om.squareRoot=om.sqrt=function(){var e,t,r,n,i,o,a=this.d,s=this.e,l=this.s,u=this.constructor;if(1!==l||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?this:1/0);for(oe=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=oh(a)).length+s)%2==0&&(t+="0"),l=Math.sqrt(t),s=oa((s+1)/2)-(s<0||s%2),n=new u(t=l==1/0?"5e"+s:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new u(l.toString()),r=(s=u.precision)+3;;)if(n=(o=n).plus(ox(this,o,r+2,1)).times(.5),oh(o.d).slice(0,r)===(t=oh(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ob(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(ob(o,s+1,0),o.times(o).eq(this))){n=o;break}r+=4,i=1}return oe=!0,ob(n,s,u.rounding,e)},om.tangent=om.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=ox(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,ob(2==i7||4==i7?r.neg():r,e,t,!0)):new n(NaN)},om.times=om.mul=function(e){var t,r,n,i,o,a,s,l,u,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=oa(this.e/7)+oa(e.e/7),(l=d.length)<(u=f.length)&&(o=d,d=f,f=o,a=l,l=u,u=a),o=[],n=a=l+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=o[i]+f[n]*d[i-n-1]+t,o[i--]=s%1e7|0,t=s/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=oS(o,r),oe?ob(e,c.precision,c.rounding):e},om.toBinary=function(e,t){return oM(this,2,e,t)},om.toDecimalPlaces=om.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(og(e,0,1e9),void 0===t?t=n.rounding:og(t,0,8),ob(r,e+r.e+1,t))},om.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=ow(n,!0):(og(e,0,1e9),void 0===t?t=i.rounding:og(t,0,8),r=ow(n=ob(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},om.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=ow(this):(og(e,0,1e9),void 0===t?t=i.rounding:og(t,0,8),r=ow(n=ob(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},om.toFraction=function(e){var t,r,n,i,o,a,s,l,u,c,d,f,p=this.d,m=this.constructor;if(!p)return new m(this);if(u=r=new m(1),n=l=new m(0),a=(o=(t=new m(n)).e=oE(p)-this.e-1)%7,t.d[0]=os(10,a<0?7+a:a),null==e)e=o>0?t:u;else{if(!(s=new m(e)).isInt()||s.lt(u))throw Error(or+s);e=s.gt(t)?o>0?t:u:s}for(oe=!1,s=new m(oh(p)),c=m.precision,m.precision=o=7*p.length*2;d=ox(s,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=s.minus(d.times(i)),s=i;return i=ox(e.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,f=1>ox(u,n,o,1).minus(this).abs().cmp(ox(l,r,o,1).minus(this).abs())?[u,n]:[l,r],m.precision=c,oe=!0,f},om.toHexadecimal=om.toHex=function(e,t){return oM(this,16,e,t)},om.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:og(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(oe=!1,r=ox(r,e,0,t,1).times(e),oe=!0,ob(r)):(e.s=r.s,r=e),r},om.toNumber=function(){return+this},om.toOctal=function(e,t){return oM(this,8,e,t)},om.toPower=om.pow=function(e){var t,r,n,i,o,a,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(os(+s,u));if((s=new l(s)).eq(1))return s;if(n=l.precision,o=l.rounding,e.eq(1))return ob(s,n,o);if((t=oa(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=0x1fffffffffffff)return i=oC(l,s,r,n),e.s<0?new l(1).div(i):ob(i,n,o);if((a=s.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=os(+s,u))&&isFinite(r)?new l(r+"").e:oa(u*(Math.log("0."+oh(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(oe=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=oD(e.times(ok(s,n+r)),n)).d&&ov((i=ob(i,n+5,1)).d,n,o)&&(t=n+10,+oh((i=ob(oD(e.times(ok(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=ob(i,n+1,0))),i.s=a,oe=!0,l.rounding=o,ob(i,n,o))},om.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=ow(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(og(e,1,1e9),void 0===t?t=i.rounding:og(t,0,8),r=ow(n=ob(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},om.toSignificantDigits=om.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(og(e,1,1e9),void 0===t?t=r.rounding:og(t,0,8)),ob(new r(this),e,t)},om.toString=function(){var e=this.constructor,t=ow(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},om.truncated=om.trunc=function(){return ob(new this.constructor(this),this.e+1,1)},om.valueOf=om.toJSON=function(){var e=this.constructor,t=ow(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var ox=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,a,s,l){var u,c,d,f,p,m,h,g,v,y,x,b,w,S,N,_,E,j,C,A,R=n.constructor,D=n.s==i.s?1:-1,k=n.d,F=i.d;if(!k||!k[0]||!F||!F[0])return new R(!n.s||!i.s||(k?F&&k[0]==F[0]:!F)?NaN:k&&0==k[0]||!F?0*D:D/0);for(l?(p=1,c=n.e-i.e):(l=1e7,p=7,c=oa(n.e/p)-oa(i.e/p)),C=F.length,E=k.length,y=(v=new R(D)).d=[],d=0;F[d]==(k[d]||0);d++);if(F[d]>(k[d]||0)&&c--,null==o?(S=o=R.precision,a=R.rounding):S=s?o+(n.e-i.e)+1:o,S<0)y.push(1),m=!0;else{if(S=S/p+2|0,d=0,1==C){for(f=0,F=F[0],S++;(d<E||f)&&S--;d++)N=f*l+(k[d]||0),y[d]=N/F|0,f=N%F|0;m=f||d<E}else{for((f=l/(F[0]+1)|0)>1&&(F=e(F,f,l),k=e(k,f,l),C=F.length,E=k.length),_=C,b=(x=k.slice(0,C)).length;b<C;)x[b++]=0;(A=F.slice()).unshift(0),j=F[0],F[1]>=l/2&&++j;do f=0,(u=t(F,x,C,b))<0?(w=x[0],C!=b&&(w=w*l+(x[1]||0)),(f=w/j|0)>1?(f>=l&&(f=l-1),g=(h=e(F,f,l)).length,b=x.length,1==(u=t(h,x,g,b))&&(f--,r(h,C<g?A:F,g,l))):(0==f&&(u=f=1),h=F.slice()),(g=h.length)<b&&h.unshift(0),r(x,h,b,l),-1==u&&(b=x.length,(u=t(F,x,C,b))<1&&(f++,r(x,C<b?A:F,b,l))),b=x.length):0===u&&(f++,x=[0]),y[d++]=f,u&&x[0]?x[b++]=k[_]||0:(x=[k[_]],b=1);while((_++<E||void 0!==x[0])&&S--)m=void 0!==x[0]}y[0]||y.shift()}if(1==p)v.e=c,i5=m;else{for(d=1,f=y[0];f>=10;f/=10)d++;v.e=d+c*p-1,ob(v,s?o+v.e+1:o,a,m)}return v}}();function ob(e,t,r,n){var i,o,a,s,l,u,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,s=d[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=7,a=t,l=(c=d[f=0])/os(10,i-a-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(s=d.length))if(n){for(;s++<=f;)d.push(0);c=l=0,i=1,o%=7,a=o-7+1}else break e;else{for(i=1,c=s=d[f];s>=10;s/=10)i++;o%=7,l=(a=o-7+i)<0?0:c/os(10,i-a-1)%10|0}if(n=n||t<0||void 0!==d[f+1]||(a<0?c:c%os(10,i-a-1)),u=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?a>0?c/os(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=os(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=f,s=1,f--):(d.length=f+1,s=os(10,7-o),d[f]=a>0?(c/os(10,i-a)%os(10,a)|0)*s:0),u)for(;;)if(0==f){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=s,1e7!=d[f])break;d[f--]=0,s=1}for(o=d.length;0===d[--o];)d.pop()}return oe&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ow(e,t,r){if(!e.isFinite())return oF(e);var n,i=e.e,o=oh(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+oj(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+oj(-i-1)+o,r&&(n=r-a)>0&&(o+=oj(n))):i>=a?(o+=oj(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+oj(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=oj(n))),o}function oS(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function oN(e,t,r){if(t>of)throw oe=!0,r&&(e.precision=r),Error(on);return ob(new e(i3),t,1,!0)}function o_(e,t,r){if(t>op)throw Error(on);return ob(new e(i8),t,r,!0)}function oE(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function oj(e){for(var t="";e--;)t+="0";return t}function oC(e,t,r,n){var i,o=new e(1),a=Math.ceil(n/7+4);for(oe=!1;;){if(r%2&&oI((o=o.times(t)).d,a)&&(i=!0),0===(r=oa(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}oI((t=t.times(t)).d,a)}return oe=!0,o}function oA(e){return 1&e.d[e.d.length-1]}function oR(e,t,r){for(var n,i,o=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){o=i;break}((n=o.cmp(i))===r||0===n&&o.s===r)&&(o=i)}return o}function oD(e,t){var r,n,i,o,a,s,l,u=0,c=0,d=0,f=e.constructor,p=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(oe=!1,l=m):l=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(l+=n=Math.log(os(2,d))/Math.LN10*2+5|0,r=o=a=new f(1),f.precision=l;;){if(o=ob(o.times(e),l,1),r=r.times(++c),oh((s=a.plus(ox(o,r,l,1))).d).slice(0,l)===oh(a.d).slice(0,l)){for(i=d;i--;)a=ob(a.times(a),l,1);if(null!=t)return f.precision=m,a;if(!(u<3&&ov(a.d,l-n,p,u)))return ob(a,f.precision=m,p,oe=!0);f.precision=l+=10,r=o=s=new f(1),c=0,u++}a=s}}function ok(e,t){var r,n,i,o,a,s,l,u,c,d,f,p=1,m=e,h=m.d,g=m.constructor,v=g.rounding,y=g.precision;if(m.s<0||!h||!h[0]||!m.e&&1==h[0]&&1==h.length)return new g(h&&!h[0]?-1/0:1!=m.s?NaN:h?0:m);if(null==t?(oe=!1,c=y):c=t,g.precision=c+=10,n=(r=oh(h)).charAt(0),!(15e14>Math.abs(o=m.e)))return u=oN(g,c+2,y).times(o+""),m=ok(new g(n+"."+r.slice(1)),c-10).plus(u),g.precision=y,null==t?ob(m,y,v,oe=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=oh((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),d=m,l=a=m=ox(m.minus(1),m.plus(1),c,1),f=ob(m.times(m),c,1),i=3;;){if(a=ob(a.times(f),c,1),oh((u=l.plus(ox(a,new g(i),c,1))).d).slice(0,c)===oh(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(oN(g,c+2,y).times(o+""))),l=ox(l,new g(p),c,1),null!=t)return g.precision=y,l;if(!ov(l.d,c-10,v,s))return ob(l,g.precision=y,v,oe=!0);g.precision=c+=10,u=a=m=ox(d.minus(1),d.plus(1),c,1),f=ob(m.times(m),c,1),i=s=1}l=u,i+=2}}function oF(e){return String(e.s*e.s/0)}function oT(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),oe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function oV(e,t,r,n,i){var o,a,s,l,u=e.precision,c=Math.ceil(u/7);for(oe=!1,l=r.times(r),s=new e(n);;){if(a=ox(s.times(l),new e(t++*t++),u,1),s=i?n.plus(a):n.minus(a),n=ox(a.times(l),new e(t++*t++),u,1),void 0!==(a=s.plus(n)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=n,n=a,a=o}return oe=!0,a.d.length=c+1,a}function oO(e,t){for(var r=e;--t;)r*=e;return r}function oP(e,t){var r,n=t.s<0,i=o_(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return i7=n?4:1,t;if((r=t.divToInt(i)).isZero())i7=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return i7=oA(r)?n?2:3:n?4:1,t;i7=oA(r)?n?1:4:n?3:2}return t.minus(i).abs()}function oM(e,t,r,n){var i,o,a,s,l,u,c,d,f,p=e.constructor,m=void 0!==r;if(m?(og(r,1,1e9),void 0===n?n=p.rounding:og(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(a=(c=ow(e)).indexOf("."),m?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,a>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-a,f.d=oy(ow(f),10,i),f.e=f.d.length),o=l=(d=oy(c,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(a<0?o--:((e=new p(e)).d=d,e.e=o,d=(e=ox(e,f,r,n,0,i)).d,o=e.e,u=i5),a=d[r],s=i/2,u=u||void 0!==d[r+1],u=n<4?(void 0!==a||u)&&(0===n||n===(e.s<0?3:2)):a>s||a===s&&(4===n||u||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(l=d.length;!d[l-1];--l);for(a=0,c="";a<l;a++)c+=i9.charAt(d[a]);if(m){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)c+="0";for(l=(d=oy(c,i,t)).length;!d[l-1];--l);for(a=1,c="1.";a<l;a++)c+=i9.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}else c=m?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=oF(e);return e.s<0?"-"+c:c}function oI(e,t){if(e.length>t)return e.length=t,!0}function oL(e){return new this(e).abs()}function oB(e){return new this(e).acos()}function oH(e){return new this(e).acosh()}function oU(e,t){return new this(e).plus(t)}function oz(e){return new this(e).asin()}function oW(e){return new this(e).asinh()}function o$(e){return new this(e).atan()}function oq(e){return new this(e).atanh()}function oZ(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?o_(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=o_(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(ox(e,t,o,1)),t=o_(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(ox(e,t,o,1)):(r=o_(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function oK(e){return new this(e).cbrt()}function oY(e){return ob(e=new this(e),e.e+1,2)}function oX(e,t,r){return new this(e).clamp(t,r)}function oG(e){if(!e||"object"!=typeof e)throw Error(ot+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=i6[r]),void 0!==(n=e[r]))if(oa(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(or+r+": "+n);if(r="crypto",i&&(this[r]=i6[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(oi);else this[r]=!1;else throw Error(or+r+": "+n);return this}function oQ(e){return new this(e).cos()}function oJ(e){return new this(e).cosh()}function o0(e,t){return new this(e).div(t)}function o1(e){return new this(e).exp()}function o2(e){return ob(e=new this(e),e.e+1,3)}function o4(){var e,t,r=new this(0);for(e=0,oe=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return oe=!0,new this(1/0);r=t}return oe=!0,r.sqrt()}function o5(e){return e instanceof ah||e&&e.toStringTag===oo||!1}function o7(e){return new this(e).ln()}function o9(e,t){return new this(e).log(t)}function o3(e){return new this(e).log(2)}function o8(e){return new this(e).log(10)}function o6(){return oR(this,arguments,-1)}function ae(){return oR(this,arguments,1)}function at(e,t){return new this(e).mod(t)}function ar(e,t){return new this(e).mul(t)}function an(e,t){return new this(e).pow(t)}function ai(e){var t,r,n,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:og(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=n/4}else throw Error(oi);else for(;o<n;)s[o++]=1e7*Math.random()|0;for(n=s[--o],e%=7,n&&e&&(i=os(10,7-e),s[o]=(n/i|0)*i);0===s[o];o--)s.pop();if(o<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=s,a}function ao(e){return ob(e=new this(e),e.e+1,this.rounding)}function aa(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function as(e){return new this(e).sin()}function al(e){return new this(e).sinh()}function au(e){return new this(e).sqrt()}function ac(e,t){return new this(e).sub(t)}function ad(){var e=0,t=arguments,r=new this(t[0]);for(oe=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return oe=!0,ob(r,this.precision,this.rounding)}function af(e){return new this(e).tan()}function ap(e){return new this(e).tanh()}function am(e){return ob(e=new this(e),e.e+1,1)}om[Symbol.for("nodejs.util.inspect.custom")]=om.toString,om[Symbol.toStringTag]="Decimal";var ah=om.constructor=function e(t){var r,n,i;function o(e){var t,r,n;if(!(this instanceof o))return new o(e);if(this.constructor=o,o5(e)){this.s=e.s,oe?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;oe?t>o.maxE?(this.e=NaN,this.d=null):t<o.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return oT(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),od.test(e)?oT(this,e):function(e,t){var r,n,i,o,a,s,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),od.test(t))return oT(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ou.test(t))r=16,t=t.toLowerCase();else if(ol.test(t))r=2;else if(oc.test(t))r=8;else throw Error(or+t);for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,n=e.constructor,a&&(o=(s=(t=t.replace(".","")).length)-o,i=oC(n,new n(r),o,2*o)),o=c=(u=oy(t,r,1e7)).length-1;0===u[o];--o)u.pop();return o<0?new n(0*e.s):(e.e=oS(u,c),e.d=u,oe=!1,a&&(e=ox(e,i,4*s)),l&&(e=e.times(54>Math.abs(l)?os(2,l):ah.pow(2,l))),oe=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,oT(this,e.toString());throw Error(or+e)}if(o.prototype=om,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=oG,o.clone=e,o.isDecimal=o5,o.abs=oL,o.acos=oB,o.acosh=oH,o.add=oU,o.asin=oz,o.asinh=oW,o.atan=o$,o.atanh=oq,o.atan2=oZ,o.cbrt=oK,o.ceil=oY,o.clamp=oX,o.cos=oQ,o.cosh=oJ,o.div=o0,o.exp=o1,o.floor=o2,o.hypot=o4,o.ln=o7,o.log=o9,o.log10=o8,o.log2=o3,o.max=o6,o.min=ae,o.mod=at,o.mul=ar,o.pow=an,o.random=ai,o.round=ao,o.sign=aa,o.sin=as,o.sinh=al,o.sqrt=au,o.sub=ac,o.sum=ad,o.tan=af,o.tanh=ap,o.trunc=am,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(i6);i3=new ah(i3),i8=new ah(i8),ah.set({precision:20,rounding:ah.ROUND_HALF_UP,toExpNeg:-7,toExpPos:21});let ag={SR:new ah("0.09"),ZR:new ah("0"),ES:new ah("0"),OS:new ah("0"),TX:new ah("0.09"),BL:new ah("0.09"),RS:new ah("0.09")};function av(e,t,r,n,i=!1){let o,a,s=new ah(e||"0"),l=new ah(t||"0"),u=new ah(r||"0"),c=ag[n]||new ah("0"),d=s.mul(l).mul(new ah("1").minus(u.div("100"))).toDecimalPlaces(4,ah.ROUND_HALF_UP);return i||c.isZero()?(o=new ah("0"),a=d):(o=d.mul(c).toDecimalPlaces(4,ah.ROUND_HALF_UP),a=d.add(o)),{line_subtotal:d.toFixed(4),gst_amount:o.toFixed(4),line_total:a.toFixed(4),display_subtotal:d.toDecimalPlaces(2).toFixed(2),display_gst:o.toDecimalPlaces(2).toFixed(2),display_total:a.toDecimalPlaces(2).toFixed(2),is_bcrs_exempt:i}}function ay({index:e,isGSTRegistered:t,onRemove:r}){let{register:n,watch:i,setValue:o}=l.default.useContext(k),a=i(`lines.${e}`),u=l.useMemo(()=>a?av(a.quantity,a.unit_price,a.discount_pct,a.tax_code,a.is_bcrs_deposit):{display_total:"0.00",line_subtotal:"0.0000",gst_amount:"0.0000",line_total:"0.0000"},[a?.quantity,a?.unit_price,a?.discount_pct,a?.tax_code,a?.is_bcrs_deposit]);return(l.useEffect(()=>{o(`lines.${e}.line_subtotal`,u.line_subtotal),o(`lines.${e}.gst_amount`,u.gst_amount),o(`lines.${e}.line_total`,u.line_total)},[u,e,o]),a)?(0,s.jsxs)("div",{className:(0,e5.cn)("grid gap-2 items-start py-3 border-b border-border last:border-0","grid-cols-12"),role:"row","aria-label":`Invoice line ${e+1}`,children:[(0,s.jsx)("div",{className:"col-span-1 flex items-center justify-center pt-2",children:(0,s.jsx)(i$,{className:"w-4 h-4 text-text-muted cursor-grab"})}),(0,s.jsx)("div",{className:"col-span-4",children:(0,s.jsx)(e9.Input,{...n(`lines.${e}.description`),placeholder:"Item description",className:(0,e5.cn)("h-10 text-sm border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm"),"aria-label":"Line description"})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(e9.Input,{type:"text",inputMode:"decimal",...n(`lines.${e}.quantity`),className:(0,e5.cn)("h-10 text-sm text-right font-mono border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm tabular-nums slashed-zero"),"aria-label":"Quantity"})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(e7,{value:a.unit_price,onChange:t=>o(`lines.${e}.unit_price`,t),currencySymbol:"",ariaLabel:"Unit price",className:(0,e5.cn)("h-10 font-mono rounded-sm","focus-visible:ring-accent-primary/50"),decimalScale:4})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(e9.Input,{type:"text",inputMode:"decimal",...n(`lines.${e}.discount_pct`),className:(0,e5.cn)("h-10 text-sm text-right font-mono border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm tabular-nums"),"aria-label":"Discount percentage",placeholder:"0"})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsxs)(n0,{value:a.tax_code,onValueChange:t=>o(`lines.${e}.tax_code`,t),disabled:!t,children:[(0,s.jsx)(iL,{className:(0,e5.cn)("h-10 text-xs border-border bg-surface rounded-sm","focus-visible:ring-accent-primary/50"),"aria-label":"Tax code",children:(0,s.jsx)(n5,{placeholder:"Tax"})}),(0,s.jsx)(iU,{children:eC.map(e=>(0,s.jsx)(iz,{value:e,className:"text-xs font-mono",children:e},e))})]})}),(0,s.jsx)("div",{className:(0,e5.cn)("col-span-1 text-right text-sm font-mono font-medium pt-2","tabular-nums slashed-zero text-text-primary"),"aria-label":"Line total","aria-live":"polite",children:u.display_total}),(0,s.jsx)("div",{className:"col-span-1 flex justify-end pt-1",children:(0,s.jsx)(eF.Button,{type:"button",variant:"ghost",size:"icon",onClick:r,className:(0,e5.cn)("h-8 w-8 text-text-muted hover:text-alert","transition-colors rounded-sm"),"aria-label":`Remove line ${e+1}`,children:(0,s.jsx)(iW.Trash2,{className:"w-4 h-4"})})})]}):null}new ah("9").div(new ah("109"));var ax=e.i(15288),ab=e.i(87486),aw=e.i(78583),aS=e.i(14764);function aN({isGSTRegistered:e,totals:t,onSubmit:r,onSaveDraft:n,isSubmitting:i}){let[o,a]=l.useState("");return(l.useEffect(()=>{t&&a(`Invoice total updated to S$ ${t.display_total}`)},[t?.display_total]),t)?(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm sticky top-20",children:[(0,s.jsx)(ax.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Tax Breakdown"}),e&&(0,s.jsx)(ab.Badge,{variant:"outline",className:"border-accent-primary text-accent-primary rounded-sm text-xs",children:"GST Registered"})]})}),(0,s.jsxs)(ax.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-text-secondary",children:"Subtotal"}),(0,s.jsxs)("span",{className:"text-sm font-mono tabular-nums text-text-primary",children:["S$ ",t.display_subtotal]})]}),e&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-text-secondary",children:"GST (9%)"}),(0,s.jsxs)("span",{className:"text-sm font-mono tabular-nums text-accent-primary",children:["S$ ",t.display_gst]})]}),(0,s.jsx)("div",{className:"border-t border-border"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-base font-display font-medium text-text-primary",children:"Total"}),(0,s.jsxs)("span",{className:(0,e5.cn)("text-xl font-mono tabular-nums slashed-zero font-bold","text-accent-primary"),"aria-live":"polite","aria-atomic":"true",children:["S$ ",t.display_total]})]}),(0,s.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:o}),(0,s.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,s.jsxs)(eF.Button,{type:"button",variant:"outline",className:"w-full rounded-sm border-border text-text-secondary hover:bg-surface",disabled:i,onClick:n,children:[(0,s.jsx)(aw.FileText,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,s.jsx)(eF.Button,{type:"button",className:"w-full rounded-sm bg-accent-primary text-void hover:bg-accent-primary-dim",onClick:r,disabled:i,"aria-busy":i,children:i?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-4 h-4 border-2 border-void/30 border-t-void rounded-full animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(aS.Send,{className:"h-4 w-4 mr-2"}),"Send Invoice"]})})]}),e&&(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent-secondary animate-pulse"}),(0,s.jsx)("span",{children:"Peppol Ready"})]})})]})]}):(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm sticky top-20",children:[(0,s.jsx)(ax.CardHeader,{className:"pb-3",children:(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Tax Breakdown"})}),(0,s.jsx)(ax.CardContent,{children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,s.jsx)("div",{className:"h-4 bg-surface rounded-sm"}),(0,s.jsx)("div",{className:"h-4 bg-surface rounded-sm"}),(0,s.jsx)("div",{className:"h-4 bg-surface rounded-sm"})]})})]})}let a_=(0,iO.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var aE=e.i(63209);let aj=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,o);return o},aC=e=>{let t=e?aj(e):aj,r=e=>(function(e,t=e=>e){let r=l.default.useSyncExternalStore(e.subscribe,l.default.useCallback(()=>t(e.getState()),[e,t]),l.default.useCallback(()=>t(e.getInitialState()),[e,t]));return l.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},aA={sidebarCollapsed:!1,compactMode:!1,bcrsEnabled:!1,hasUnsavedChanges:!1,currentTotals:null},aR=(n?aC(n):aC)((i=(e,t)=>({...aA,setSidebarCollapsed:t=>e({sidebarCollapsed:t}),toggleCompactMode:()=>e(e=>({compactMode:!e.compactMode})),toggleBCRS:()=>{e({bcrsEnabled:!t().bcrsEnabled,hasUnsavedChanges:!0})},setHasUnsavedChanges:t=>e({hasUnsavedChanges:t}),updateTotals:t=>e({currentTotals:t}),resetStore:()=>e(aA)}),(e,t,r)=>{let n=r.subscribe;return r.subscribe=(e,t,i)=>{let o=e;if(t){let n=(null==i?void 0:i.equalityFn)||Object.is,a=e(r.getState());o=r=>{let i=e(r);if(!n(a,i)){let e=a;t(a=i,e)}},(null==i?void 0:i.fireImmediately)&&t(a,a)}return n(o)},i(e,t,r)}));function aD({initialData:e,isGSTRegistered:t=!0,onSuccess:r}){let{setHasUnsavedChanges:n}=aR(),[i,o]=l.useState(!1),[a,g]=l.useState(null),b=l.useMemo(()=>{let t,r,n;return{...((r=new Date(t=new Date)).setDate(r.getDate()+30),n={issue_date:t.toISOString().split("T")[0],due_date:r.toISOString().split("T")[0]},{invoice_number:`INV-${Date.now()}`,uuid:crypto.randomUUID(),issue_date:n.issue_date,due_date:n.due_date,customer:{id:crypto.randomUUID(),name:"",uen:"",gst_registration_no:"",email:"",address:"",is_peppol_enabled:!1,peppol_id:""},lines:[ek()],subtotal:"0.0000",gst_rate:"0.09",gst_amount:"0.0000",bcrs_deposit_total:"0.0000",total_amount:"0.0000",status:"DRAFT",peppol_status:"NOT_REQUIRED",notes:"",reference:"",terms:"Payment due within 30 days"}),...e}},[e]),w=function(e={}){let t=l.default.useRef(void 0),r=l.default.useRef(void 0),[n,i]=l.default.useState({isDirty:!1,isValidating:!1,isLoading:y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:y(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...i}=function(e={}){let t,r={...es,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(d(r.defaultValues)||d(r.values))&&p(r.defaultValues||r.values)||{},a=r.shouldUnregister?{}:p(o),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g=0,b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={...b},S={...w},N={array:O(),state:O()},_="all"===r.criteriaMode,E=async e=>{if(!s.keepIsValid&&!r.disabled&&(w.isValid||S.isValid||e)){let e;r.resolver?(e=P((await k()).errors),j()):e=await T(i,!0),e!==n.isValid&&N.state.next({isValid:e})}},j=(e,t)=>{!r.disabled&&(w.isValidating||w.validatingFields||S.isValidating||S.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?x(n.validatingFields,e,t):L(n.validatingFields,e))}),N.state.next({validatingFields:n.validatingFields,isValidating:!P(n.validatingFields)}))},C=(e,t,r,n)=>{let l=v(i,e);if(l){let i=v(a,e,m(r)?v(o,e):r);m(i)||n&&n.defaultChecked||t?x(a,e,t?i:Y(l._f)):z(e,i),s.mount&&!s.action&&E()}},R=(e,t,i,a,s)=>{let l=!1,u=!1,c={name:e};if(!r.disabled){if(!i||a){(w.isDirty||S.isDirty)&&(u=n.isDirty,n.isDirty=c.isDirty=B(),l=u!==c.isDirty);let r=D(v(o,e),t);u=!!v(n.dirtyFields,e),r?L(n.dirtyFields,e):x(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,l=l||(w.dirtyFields||S.dirtyFields)&&!r!==u}if(i){let t=v(n.touchedFields,e);t||(x(n.touchedFields,e,i),c.touchedFields=n.touchedFields,l=l||(w.touchedFields||S.touchedFields)&&t!==i)}l&&s&&N.state.next(c)}return l?c:{}},k=async e=>(j(e,!0),await r.resolver(a,r.context,((e,t,r,n)=>{let i={};for(let r of e){let e=v(t,r);e&&x(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),F=async e=>{let{errors:t}=await k(e);if(j(e),e)for(let r of e){let e=v(t,r);e?x(n.errors,r,e):L(n.errors,r)}else n.errors=t;return t},T=async(t,i,o={valid:!0})=>{for(let s in t){let u=t[s];if(u){let{_f:t,...s}=u;if(t){let s=l.array.has(t.name),c=u._f&&J(u._f);c&&w.validatingFields&&j([t.name],!0);let d=await ea(u,l.disabled,a,_,r.shouldUseNativeValidation&&!i,s);if(c&&w.validatingFields&&j([t.name]),d[t.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;i||(v(d,t.name)?s?en(n.errors,d,t.name):x(n.errors,t.name,d[t.name]):L(n.errors,t.name))}P(s)||await T(s,i,o)}}return o.valid},B=(e,t)=>!r.disabled&&(e&&t&&x(a,e,t),!D(ei(),o)),H=(e,t,r)=>{var n,i;return n=l,i={...s.mount?a:m(t)?o:A(e)?{[e]:t}:t},A(e)?(r&&n.watch.add(e),v(i,e,t)):Array.isArray(e)?e.map(e=>(r&&n.watch.add(e),v(i,e))):(r&&(n.watchAll=!0),i)},z=(e,t,r={})=>{let n=v(i,e),o=t;if(n){let r=n._f;r&&(r.disabled||x(a,e,q(t,r)),o=M(r.ref)&&c(t)?"":t,"select-multiple"===r.ref.type?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?"checkbox"===r.ref.type?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):r.refs.forEach(e=>e.checked=e.value===o):"file"===r.ref.type?r.ref.value="":(r.ref.value=o,r.ref.type||N.state.next({name:e,values:p(a)})))}(r.shouldDirty||r.shouldTouch)&&R(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&Q(e)},W=(e,t,r)=>{for(let n in t){if(!t.hasOwnProperty(n))return;let o=t[n],a=e+"."+n,s=v(i,a);(l.array.has(e)||d(o)||s&&!s._f)&&!u(o)?W(a,o,r):z(a,o,r)}},$=(e,t,r={})=>{let u=v(i,e),d=l.array.has(e),f=p(t);x(a,e,f),d?(N.array.next({name:e,values:p(a)}),(w.isDirty||w.dirtyFields||S.isDirty||S.dirtyFields)&&r.shouldDirty&&N.state.next({name:e,dirtyFields:U(o,a),isDirty:B(e,f)})):!u||u._f||c(f)?z(e,f,r):W(e,f,r),ee(e,l)?N.state.next({...n,name:e,values:p(a)}):N.state.next({name:s.mount?e:void 0,values:p(a)})},Z=async e=>{s.mount=!0;let o=e.target,c=o.name,f=!0,m=v(i,c),h=e=>{f=Number.isNaN(e)||u(e)&&isNaN(e.getTime())||D(e,v(a,c,e))},y=G(r.mode),b=G(r.reValidateMode);if(m){let s,u,H,U,z=o.type?Y(m._f):d(s=e)&&s.target?"checkbox"===s.target.type?s.target.checked:s.target.value:s,W="blur"===e.type||"focusout"===e.type,$=!((U=m._f).mount&&(U.required||U.min||U.max||U.maxLength||U.minLength||U.pattern||U.validate))&&!r.resolver&&!v(n.errors,c)&&!m._f.deps||(C=W,A=v(n.touchedFields,c),F=n.isSubmitted,V=b,!(O=y).isOnAll&&(!F&&O.isOnTouch?!(A||C):(F?V.isOnBlur:O.isOnBlur)?!C:(F?!V.isOnChange:!O.isOnChange)||C)),q=ee(c,l,W);x(a,c,z),W?o&&o.readOnly||(m._f.onBlur&&m._f.onBlur(e),t&&t(0)):m._f.onChange&&m._f.onChange(e);let Z=R(c,z,W),K=!P(Z)||q;if(W||N.state.next({name:c,type:e.type,values:p(a)}),$)return(w.isValid||S.isValid)&&("onBlur"===r.mode?W&&E():W||E()),K&&N.state.next({name:c,...q?{}:Z});if(!W&&q&&N.state.next({...n}),r.resolver){let{errors:e}=await k([c]);if(j([c]),h(z),f){let t=er(n.errors,i,c),r=er(e,i,t.name||c);u=r.error,c=r.name,H=P(e)}}else j([c],!0),u=(await ea(m,l.disabled,a,_,r.shouldUseNativeValidation))[c],j([c]),h(z),f&&(u?H=!1:(w.isValid||S.isValid)&&(H=await T(i,!0)));if(f){m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&Q(m._f.deps);var C,A,F,V,O,M=c,I=H,B=u;let e=v(n.errors,M),i=(w.isValid||S.isValid)&&"boolean"==typeof I&&n.isValid!==I;if(r.delayError&&B){let e;e=()=>{x(n.errors,M,B),N.state.next({errors:n.errors})},(t=t=>{clearTimeout(g),g=setTimeout(e,t)})(r.delayError)}else clearTimeout(g),t=null,B?x(n.errors,M,B):L(n.errors,M);if((B?!D(e,B):e)||!P(Z)||i){let e={...Z,...i&&"boolean"==typeof I?{isValid:I}:{},errors:n.errors,name:M};n={...n,...e},N.state.next(e)}}}},K=(e,t)=>{if(v(n.errors,t)&&e.focus)return e.focus(),1},Q=async(e,t={})=>{let o,a,s=V(e);if(r.resolver){let t=await F(m(e)?e:s);o=P(t),a=e?!s.some(e=>v(t,e)):o}else e?((a=(await Promise.all(s.map(async e=>{let t=v(i,e);return await T(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&E():a=o=await T(i);return N.state.next({...!A(e)||(w.isValid||S.isValid)&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!a&&et(i,K,e?s:l.mount),a},ei=(e,t)=>{let r={...s.mount?a:o};return t&&(r=function e(t,r){let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],a=r[i];if(o&&d(o)&&a){let t=e(o,a);d(t)&&(n[i]=t)}else t[i]&&(n[i]=a)}return n}(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),m(e)?r:A(e)?v(r,e):e.map(e=>v(r,e))},eo=(e,t)=>({invalid:!!v((t||n).errors,e),isDirty:!!v((t||n).dirtyFields,e),error:v((t||n).errors,e),isValidating:!!v(n.validatingFields,e),isTouched:!!v((t||n).touchedFields,e)}),el=(e,t,r)=>{let o=(v(i,e,{_f:{}})._f||{}).ref,{ref:a,message:s,type:l,...u}=v(n.errors,e)||{};x(n.errors,e,{...u,...t,ref:o}),N.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},eu=e=>N.state.subscribe({next:t=>{let r,i,s;r=e.name,i=t.name,s=e.exact,(!r||!i||r===i||V(r).some(e=>e&&(s?e===i:e.startsWith(i)||i.startsWith(e))))&&((e,t,r,n)=>{r(e);let{name:i,...o}=e;return P(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!n||"all"))})(t,e.formState||w,ev,e.reRenderRoot)&&e.callback({values:{...a},...n,...t,defaultValues:o})}}).unsubscribe,ec=(e,t={})=>{for(let s of e?V(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(L(i,s),L(a,s)),t.keepError||L(n.errors,s),t.keepDirty||L(n.dirtyFields,s),t.keepTouched||L(n.touchedFields,s),t.keepIsValidating||L(n.validatingFields,s),r.shouldUnregister||t.keepDefaultValue||L(o,s);N.state.next({values:p(a)}),N.state.next({...n,...!t.keepDirty?{}:{isDirty:B()}}),t.keepIsValid||E()},ed=({disabled:e,name:t})=>{if("boolean"==typeof e&&s.mount||e||l.disabled.has(t)){let r=l.disabled.has(t);e?l.disabled.add(t):l.disabled.delete(t),!!e!==r&&s.mount&&!s.action&&E()}},ef=(e,t={})=>{let n=v(i,e),a="boolean"==typeof t.disabled||"boolean"==typeof r.disabled;return(x(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n)?ed({disabled:"boolean"==typeof t.disabled?t.disabled:r.disabled,name:e}):C(e,!0,t.value),{...a?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:X(t.min),max:X(t.max),minLength:X(t.minLength),maxLength:X(t.maxLength),pattern:X(t.pattern)}:{},name:e,onChange:Z,onBlur:Z,ref:a=>{if(a){let r;ef(e,t),n=v(i,e);let s=m(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,l="radio"===(r=s).type||"checkbox"===r.type,u=n._f.refs||[];(l?u.find(e=>e===s):s===n._f.ref)||(x(i,e,{_f:{...n._f,...l?{refs:[...u.filter(I),s,...Array.isArray(v(o,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s}}}),C(e,!1,void 0,s))}else{var u;(n=v(i,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(u=l.array,!u.has(e.substring(0,e.search(/\.\d+(\.|$)/))||e)||!s.action)&&l.unMount.add(e)}}}},ep=()=>r.shouldFocusError&&et(i,K,l.mount),em=(e,t)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=p(a);if(N.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await k();j(),n.errors=e,u=p(t)}else await T(i);if(l.disabled.size)for(let e of l.disabled)L(u,e);if(L(n.errors,"root"),P(n.errors)){N.state.next({errors:{}});try{await e(u,o)}catch(e){s=e}}else t&&await t({...n.errors},o),ep(),setTimeout(ep);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(n.errors)&&!s,submitCount:n.submitCount+1,errors:n.errors}),s)throw s},eh=(e,t={})=>{let u=e?p(e):o,c=p(u),d=P(e),h=d?o:c;if(t.keepDefaultValues||(o=u),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...l.mount,...Object.keys(U(o,a))]))){let t=v(n.dirtyFields,e),r=v(a,e),i=v(h,e);t&&!m(r)?x(h,e,r):t||m(i)||$(e,i)}else{if(f&&m(e))for(let e of l.mount){let t=v(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(M(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of l.mount)$(e,v(h,e));else i={}}a=r.shouldUnregister?t.keepDefaultValues?p(o):{}:p(h),N.array.next({values:{...h}}),N.state.next({values:{...h}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!w.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!P(h),s.watch=!!r.shouldUnregister,s.keepIsValid=!!t.keepIsValid,s.action=!1,t.keepErrors||(n.errors={}),N.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!d&&(t.keepDirty?n.isDirty:!!(t.keepDefaultValues&&!D(e,o))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&a?U(o,a):n.dirtyFields:t.keepDefaultValues&&e?U(o,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},eg=(e,t)=>eh(y(e)?e(a):e,{...r.resetOptions,...t}),ev=e=>{n={...n,...e}},ey={control:{register:ef,unregister:ec,getFieldState:eo,handleSubmit:em,setError:el,_subscribe:eu,_runSchema:k,_updateIsValidating:j,_focusError:ep,_getWatch:H,_getDirty:B,_setValid:E,_setFieldArray:(e,t=[],l,u,c=!0,d=!0)=>{if(u&&l&&!r.disabled){if(s.action=!0,d&&Array.isArray(v(i,e))){let t=l(v(i,e),u.argA,u.argB);c&&x(i,e,t)}if(d&&Array.isArray(v(n.errors,e))){let t,r=l(v(n.errors,e),u.argA,u.argB);c&&x(n.errors,e,r),h(v(t=n.errors,e)).length||L(t,e)}if((w.touchedFields||S.touchedFields)&&d&&Array.isArray(v(n.touchedFields,e))){let t=l(v(n.touchedFields,e),u.argA,u.argB);c&&x(n.touchedFields,e,t)}(w.dirtyFields||S.dirtyFields)&&(n.dirtyFields=U(o,a)),N.state.next({name:e,isDirty:B(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else x(a,e,t)},_setDisabledField:ed,_setErrors:e=>{n.errors=e,N.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>h(v(s.mount?a:o,e,r.shouldUnregister?v(o,e,[]):[])),_reset:eh,_resetDefaultValues:()=>y(r.defaultValues)&&r.defaultValues().then(e=>{eg(e,r.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of l.unMount){let t=v(i,e);t&&(t._f.refs?t._f.refs.every(e=>!I(e)):!I(t._f.ref))&&ec(e)}l.unMount=new Set},_disableForm:e=>{"boolean"==typeof e&&(N.state.next({disabled:e}),et(i,(t,r)=>{let n=v(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:N,_proxyFormState:w,get _fields(){return i},get _formValues(){return a},get _state(){return s},set _state(value){s=value},get _defaultValues(){return o},get _names(){return l},set _names(value){l=value},get _formState(){return n},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(s.mount=!0,S={...S,...e.formState},eu({...e,formState:{...b,...e.formState}})),trigger:Q,register:ef,handleSubmit:em,watch:(e,t)=>y(e)?N.state.subscribe({next:r=>"values"in r&&e(H(void 0,t),r)}):H(e,t,!0),setValue:$,getValues:ei,reset:eg,resetField:(e,t={})=>{v(i,e)&&(m(t.defaultValue)?$(e,p(v(o,e))):($(e,t.defaultValue),x(o,e,p(t.defaultValue))),t.keepTouched||L(n.touchedFields,e),t.keepDirty||(L(n.dirtyFields,e),n.isDirty=t.defaultValue?B(e,p(v(o,e))):B()),!t.keepError&&(L(n.errors,e),w.isValid&&E()),N.state.next({...n}))},clearErrors:e=>{let t=e?V(e):void 0;null==t||t.forEach(e=>L(n.errors,e)),t?t.forEach(e=>{N.state.next({name:e,errors:n.errors})}):N.state.next({errors:{}})},unregister:ec,setError:el,setFocus:(e,t={})=>{let r=v(i,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&y(e.select)&&e.select()})}},getFieldState:eo};return{...ey,formControl:ey}}(e);t.current={...i,formState:n}}let o=t.current.control;return o._options=e,C(()=>{let e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),l.default.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),l.default.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),l.default.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),l.default.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),l.default.useEffect(()=>{if(o._proxyFormState.isDirty){let e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}},[o,n.isDirty]),l.default.useEffect(()=>{var t;e.values&&!D(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null==(t=o._options.resetOptions)?void 0:t.keepIsValid)||o._setValid(),r.current=e.values,i(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),l.default.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=l.default.useMemo(()=>((e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>("all"!==t._proxyFormState[o]&&(t._proxyFormState[o]=!n||"all"),r&&(r[o]=!0),e[o])});return i})(n,o),[o,n]),t.current}({resolver:function(e,t,r){if(void 0===r&&(r={}),"_def"in e&&"object"==typeof e._def&&"typeName"in e._def)return function(t,n,i){try{return Promise.resolve(eE(function(){return Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](t,void 0)).then(function(e){return i.shouldUseNativeValidation&&ex({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(Array.isArray(null==e?void 0:e.issues))return{values:{},errors:eb(function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[a]={message:s.message,type:s.code}}else r[a]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[a].types,u=l&&l[n.code];r[a]=T(a,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};if("_zod"in e&&"object"==typeof e._zod)return function(t,n,i){try{return Promise.resolve(eE(function(){return Promise.resolve(("sync"===r.mode?e_.parse:e_.parseAsync)(e,t,void 0)).then(function(e){return i.shouldUseNativeValidation&&ex({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(e instanceof eN.$ZodError)return{values:{},errors:eb(function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("invalid_union"===n.code&&n.errors.length>0){var s=n.errors[0][0];r[a]={message:s.message,type:s.code}}else r[a]={message:o,type:i};if("invalid_union"===n.code&&n.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=r[a].types,u=l&&l[n.code];r[a]=T(a,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};throw Error("Invalid input: not a Zod schema")}(eD),defaultValues:b,mode:"onChange"}),{control:S,handleSubmit:N,watch:_,setValue:E,formState:{isDirty:R}}=w,{fields:k,append:B,remove:H}=function(e){let t=l.default.useContext(j),{control:r=t,name:n,keyName:i="id",shouldUnregister:o,rules:a}=e,[s,u]=l.default.useState(r._getFieldArray(n)),c=l.default.useRef(r._getFieldArray(n).map(el)),d=l.default.useRef(!1);r._names.array.add(n),l.default.useMemo(()=>a&&s.length>=0&&r.register(n,a),[r,n,s.length,a]),C(()=>r._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===n||!t){let t=v(e,n);Array.isArray(t)&&(u(t),c.current=t.map(el))}}}).unsubscribe,[r,n]);let f=l.default.useCallback(e=>{d.current=!0,r._setFieldArray(n,e)},[r,n]);return l.default.useEffect(()=>{if(r._state.action=!1,ee(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!G(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!G(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(e=>{r._updateIsValidating([n]);let t=v(e.errors,n),i=v(r._formState.errors,n);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?x(r._formState.errors,n,t):L(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{let e=v(r._fields,n);e&&e._f&&!(G(r._options.reValidateMode).isOnSubmit&&G(r._options.mode).isOnSubmit)&&ea(e,r._names.disabled,r._formValues,"all"===r._options.criteriaMode,r._options.shouldUseNativeValidation,!0).then(e=>!P(e)&&r._subjects.state.next({errors:en(r._formState.errors,e,n)}))}r._subjects.state.next({name:n,values:p(r._formValues)}),r._names.focus&&et(r._fields,(e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[s,n,r]),l.default.useEffect(()=>(v(r._formValues,n)||r._setFieldArray(n),()=>{let e;r._options.shouldUnregister||o?r.unregister(n):(e=v(r._fields,n))&&e._f&&(e._f.mount=!1)}),[n,r,i,o]),{swap:l.default.useCallback((e,t)=>{let i=r._getFieldArray(n);eg(i,e,t),eg(c.current,e,t),f(i),u(i),r._setFieldArray(n,i,eg,{argA:e,argB:t},!1)},[f,n,r]),move:l.default.useCallback((e,t)=>{let i=r._getFieldArray(n);ep(i,e,t),ep(c.current,e,t),f(i),u(i),r._setFieldArray(n,i,ep,{argA:e,argB:t},!1)},[f,n,r]),prepend:l.default.useCallback((e,t)=>{let i=V(p(e)),o=em(r._getFieldArray(n),i);r._names.focus=eu(n,0,t),c.current=em(c.current,i.map(el)),f(o),u(o),r._setFieldArray(n,o,em,{argA:ed(e)})},[f,n,r]),append:l.default.useCallback((e,t)=>{let i=V(p(e)),o=ec(r._getFieldArray(n),i);r._names.focus=eu(n,o.length-1,t),c.current=ec(c.current,i.map(el)),f(o),u(o),r._setFieldArray(n,o,ec,{argA:ed(e)})},[f,n,r]),remove:l.default.useCallback(e=>{let t=eh(r._getFieldArray(n),e);c.current=eh(c.current,e),f(t),u(t),Array.isArray(v(r._fields,n))||x(r._fields,n,void 0),r._setFieldArray(n,t,eh,{argA:e})},[f,n,r]),insert:l.default.useCallback((e,t,i)=>{let o=V(p(t)),a=ef(r._getFieldArray(n),e,o);r._names.focus=eu(n,e,i),c.current=ef(c.current,e,o.map(el)),f(a),u(a),r._setFieldArray(n,a,ef,{argA:e,argB:ed(t)})},[f,n,r]),update:l.default.useCallback((e,t)=>{let i=p(t),o=ev(r._getFieldArray(n),e,i);c.current=[...o].map((t,r)=>t&&r!==e?c.current[r]:el()),f(o),u([...o]),r._setFieldArray(n,o,ev,{argA:e,argB:i},!0,!1)},[f,n,r]),replace:l.default.useCallback(e=>{let t=V(p(e));c.current=t.map(el),f([...t]),u([...t]),r._setFieldArray(n,[...t],e=>e,{},!0,!1)},[f,n,r]),fields:l.default.useMemo(()=>s.map((e,t)=>({...e,[i]:c.current[t]||el()})),[s,i])}}({control:S,name:"lines"}),z=_("lines")||[],{totals:W}=l.useMemo(()=>{let e,t;return t=function(e){let t=new ah("0"),r=new ah("0"),n=new ah("0");for(let i of e){let e=new ah(i.line_subtotal),o=new ah(i.gst_amount);i.is_bcrs_exempt?n=n.add(e):(t=t.add(e),r=r.add(o))}let i=t.add(r).add(n);return{subtotal:t.toFixed(4),gst_amount:r.toFixed(4),bcrs_deposit_total:n.toFixed(4),total_amount:i.toFixed(4),display_subtotal:t.toDecimalPlaces(2).toFixed(2),display_gst:r.toDecimalPlaces(2).toFixed(2),display_bcrs:n.toDecimalPlaces(2).toFixed(2),display_total:i.toDecimalPlaces(2).toFixed(2)}}(e=z.map(e=>av(e.quantity,e.unit_price,e.discount_pct,e.tax_code,e.is_bcrs_deposit))),{lineResults:e,totals:t}},[z]);l.useEffect(()=>{E("subtotal",W.subtotal),E("gst_amount",W.gst_amount),E("total_amount",W.total_amount)},[W,E]),l.useEffect(()=>{n(R)},[R,n]);let $=async e=>{o(!0),g(null);try{console.log("Submitting invoice:",e),await new Promise(e=>setTimeout(e,1e3));let t=crypto.randomUUID();r?.(t)}catch(e){g(e instanceof Error?e.message:"Failed to save invoice")}finally{o(!1)}},Z=async()=>{console.log("Saving draft:",{...w.getValues(),status:"DRAFT"})};return(0,s.jsx)(F,{...w,children:(0,s.jsxs)("form",{onSubmit:N($),className:"space-y-6",children:[a&&(0,s.jsxs)("div",{className:"bg-alert/10 border border-alert rounded-sm p-4 flex items-start gap-3",role:"alert",children:[(0,s.jsx)(aE.AlertCircle,{className:"h-5 w-5 text-alert flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm text-alert",children:a})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,s.jsx)(ax.CardHeader,{children:(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Invoice Details"})}),(0,s.jsxs)(ax.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(e9.Input,{label:"Invoice Number",...w.register("invoice_number"),error:w.formState.errors.invoice_number?.message}),(0,s.jsx)(e9.Input,{label:"Reference",...w.register("reference"),placeholder:"Optional reference"})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(e9.Input,{label:"Issue Date",type:"date",...w.register("issue_date"),error:w.formState.errors.issue_date?.message}),(0,s.jsx)(e9.Input,{label:"Due Date",type:"date",...w.register("due_date"),error:w.formState.errors.due_date?.message})]})]})]}),(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,s.jsx)(ax.CardHeader,{children:(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Customer"})}),(0,s.jsxs)(ax.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(e9.Input,{label:"Customer Name",...w.register("customer.name"),error:w.formState.errors.customer?.name?.message}),(0,s.jsx)(e9.Input,{label:"Email",type:"email",...w.register("customer.email"),error:w.formState.errors.customer?.email?.message})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(e9.Input,{label:"UEN (Optional)",...w.register("customer.uen"),placeholder:"201912345A",error:w.formState.errors.customer?.uen?.message}),(0,s.jsx)(e9.Input,{label:"GST Registration No (Optional)",...w.register("customer.gst_registration_no"),placeholder:"M90345678"})]})]})]}),(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,s.jsxs)(ax.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Line Items"}),(0,s.jsxs)(eF.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{B(ek())},className:"rounded-sm border-border text-text-secondary",children:[(0,s.jsx)(a_,{className:"h-4 w-4 mr-2"}),"Add Line"]})]}),(0,s.jsxs)(ax.CardContent,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-2 pb-2 border-b border-border text-xs font-medium text-text-secondary",role:"rowheader",children:[(0,s.jsx)("div",{className:"col-span-1"}),(0,s.jsx)("div",{className:"col-span-4",children:"Description"}),(0,s.jsx)("div",{className:"col-span-1 text-right",children:"Qty"}),(0,s.jsx)("div",{className:"col-span-2 text-right",children:"Price"}),(0,s.jsx)("div",{className:"col-span-1 text-right",children:"Disc%"}),(0,s.jsx)("div",{className:"col-span-1",children:"Tax"}),(0,s.jsx)("div",{className:"col-span-1 text-right",children:"Total"}),(0,s.jsx)("div",{className:"col-span-1"})]}),(0,s.jsx)("div",{role:"rowgroup",children:k.map((e,r)=>(0,s.jsx)(ay,{index:r,isGSTRegistered:t,onRemove:()=>{k.length>1&&H(r)}},e.id))}),w.formState.errors.lines&&(0,s.jsx)("p",{className:"text-sm text-alert mt-2",role:"alert",children:w.formState.errors.lines.message})]})]}),(0,s.jsxs)(ax.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,s.jsx)(ax.CardHeader,{children:(0,s.jsx)(ax.CardTitle,{className:"font-display text-lg text-text-primary",children:"Notes & Terms"})}),(0,s.jsxs)(ax.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-text-secondary mb-1.5 block",children:"Notes"}),(0,s.jsx)("textarea",{...w.register("notes"),rows:3,className:(0,e5.cn)("flex w-full rounded-sm border bg-surface px-3 py-2 text-sm","text-text-primary placeholder:text-text-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50 focus-visible:border-accent-primary","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors resize-none","border-border"),placeholder:"Additional notes for the customer..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-text-secondary mb-1.5 block",children:"Terms & Conditions"}),(0,s.jsx)("textarea",{...w.register("terms"),rows:2,className:(0,e5.cn)("flex w-full rounded-sm border bg-surface px-3 py-2 text-sm","text-text-primary placeholder:text-text-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50 focus-visible:border-accent-primary","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors resize-none","border-border"),placeholder:"Payment terms and conditions..."})]})]})]})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(aN,{isGSTRegistered:t,totals:W,onSubmit:N($),onSaveDraft:Z,isSubmitting:i})})]})]})})}e.s(["InvoiceForm",()=>aD],38385)},41097,e=>{e.n(e.i(38385))}]);